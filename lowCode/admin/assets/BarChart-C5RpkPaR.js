import{r as t,j as s,S as x}from"./index-BrD5sXbN.js";import{h as v,B as S}from"./Page-xyqr89RQ.js";import{u as b}from"./pageStore-D-Vypx31.js";import"./util-DHOYMMeV.js";import"./DoubleRightOutlined-BBqvPxX4.js";import"./index-BTJ7lNGW.js";import"./index-CiNuIwYW.js";import"./index-QqHQ6VDD.js";import"./tslib.es6-DQF7CiZa.js";import"./index-D8qpNAOl.js";import"./index-F3O87iVt.js";const f=({config:a},m)=>{var d;const[n,o]=t.useState([]),[u,p]=t.useState(!0),[h,i]=t.useState(!0),c=b(r=>r.page.pageData.variableData);t.useEffect(()=>{l({})},[a.api,((d=a.api)==null?void 0:d.sourceType)=="variable"?c:""]);const l=r=>{p(!0),v(a.api,r).then(e=>{(e==null?void 0:e.code)===0&&(Array.isArray(e.data)?o(e.data):(console.error("[BarChart]","data数据格式错误，请检查"),o([]))),p(!1)})};return t.useImperativeHandle(m,()=>({show(){i(!0)},hide(){i(!1)},update:r=>{l(r)}})),h&&s.jsx("div",{style:a.style,children:s.jsx(x,{spinning:u,size:"large",wrapperClassName:"spin-loading",children:s.jsx(S,{...a.props,color:a.props.seriesField?a.props.color:a.props.color[0],data:n})})})},z=t.forwardRef(f);export{z as default};
