import{r as t,j as s,S as C}from"./index-DzwVQ2UK.js";import{h as x,C as v}from"./Page-B4H8Li0A.js";import{u as S}from"./pageStore-CahLOgRM.js";import"./util-D3GCZG9x.js";import"./DoubleRightOutlined-oEBZ4Nyz.js";import"./index-ytCQesj7.js";import"./index-Cr1Ff2Du.js";import"./index-Bvso4piW.js";import"./tslib.es6-TvfGtUkn.js";import"./index-Ce96gYJJ.js";import"./index-Bz8JGjyY.js";const b=({config:a},n)=>{var m;const[u,o]=t.useState([]),[d,p]=t.useState(!0),[h,i]=t.useState(!0),c=S(e=>e.page.pageData.variableData);t.useEffect(()=>{l({})},[a.api,((m=a.api)==null?void 0:m.sourceType)=="variable"?c:""]);const l=e=>{p(!0),x(a.api,e).then(r=>{(r==null?void 0:r.code)===0&&(Array.isArray(r.data)?o(r.data):(console.error("[ColumnChart]","data数据格式错误，请检查"),o([]))),p(!1)})};return t.useImperativeHandle(n,()=>({show(){i(!0)},hide(){i(!1)},update:e=>{l(e)}})),h&&s.jsx("div",{style:a.style,children:s.jsx(C,{spinning:d,size:"large",wrapperClassName:"spin-loading",children:s.jsx(v,{...a.props,color:a.props.seriesField?a.props.color:a.props.color[0],data:u})})})},z=t.forwardRef(b);export{z as default};
