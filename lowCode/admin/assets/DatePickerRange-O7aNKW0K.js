import{r as t,j as n}from"./index-DzwVQ2UK.js";import{useFormContext as R}from"./context-wT84Xe1v.js";import{F as k}from"./index-Cr1Ff2Du.js";import{p as D}from"./Page-B4H8Li0A.js";import"./index-Bvso4piW.js";import"./pageStore-CahLOgRM.js";import"./index-ytCQesj7.js";import"./util-D3GCZG9x.js";import"./DoubleRightOutlined-oEBZ4Nyz.js";import"./tslib.es6-TvfGtUkn.js";import"./index-Ce96gYJJ.js";import"./index-Bz8JGjyY.js";const E=({type:b,config:r,onChange:p},c)=>{const{RangePicker:v}=D,{initValues:x}=R(),[W,i]=t.useState(!0),[j,a]=t.useState();t.useEffect(()=>{var o;const s=(o=r.props.formItem)==null?void 0:o.name,e=r.props.defaultValue;x(b,s,e)},[r.props.defaultValue]),t.useEffect(()=>{typeof r.props.formWrap.disabled=="boolean"&&a(r.props.formWrap.disabled)},[r.props.formWrap.disabled]),t.useImperativeHandle(c,()=>({show(){i(!0)},hide(){i(!1)},enable(){a(!1)},disable(){a(!0)}}));const F=s=>{const e={},{startField:o,endField:l,formItem:{name:f},formWrap:{format:I}}=r.props,[u,d]=(s==null?void 0:s.map(m=>m==null?void 0:m.format(I)))||[void 0,void 0];o&&l?(e[o]=u,e[l]=d,delete e[f]):e[f]=[u,d],p==null||p(e)};return W&&n.jsx(k.Item,{...r.props.formItem,children:n.jsx(v,{...r.props.formWrap,disabled:j,variant:r.props.formWrap.variant||void 0,style:r.style,onChange:F})})},G=t.forwardRef(E);export{G as default};
