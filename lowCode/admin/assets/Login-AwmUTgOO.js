import{b as d,r as p,j as e,B as g,l as h,s as j}from"./index-BrD5sXbN.js";import{u as _}from"./pageStore-D-Vypx31.js";import{F as t,I as n}from"./index-CiNuIwYW.js";import{R as k}from"./UserOutlined-ueenOKIG.js";import{R as v}from"./LockOutlined-CXcM9Ypx.js";import"./index-QqHQ6VDD.js";import"./index-BTJ7lNGW.js";const y="_container_13kxi_1",I="_login_13kxi_8",w="_left_13kxi_18",N="_form_13kxi_26",R="_title_13kxi_30",s={container:y,login:I,left:w,form:N,title:R};function S(){const i=d(),[l,a]=p.useState(!1),c=_(o=>o.saveUserInfo),[m]=t.useForm(),f=async o=>{a(!0);try{const r=await h(o);if(r.token)if(j.set("token",r.token),c(r),a(!1),location.search){const u=new URLSearchParams(location.search);setTimeout(()=>{const x=new URL(u.get("callback"));i(x.pathname||"/welcome")})}else i("/")}catch{a(!1)}};return e.jsx("div",{className:s.container,children:e.jsxs("div",{className:s.login,children:[e.jsx("div",{className:s.left,children:e.jsx("img",{src:"/imgs/login-bg.png"})}),e.jsxs("div",{className:s.form,children:[e.jsx("div",{className:s.title,children:"用户登录"}),e.jsxs(t,{name:"basic",layout:"vertical",className:s.form,onFinish:f,autoComplete:"off",size:"large",form:m,children:[e.jsx(t.Item,{name:"userName",rules:[{required:!0,message:"请输入邮箱"}],children:e.jsx(n,{prefix:e.jsx(k,{}),allowClear:!0,placeholder:"输入个人邮箱"})}),e.jsx(t.Item,{style:{marginTop:32},name:"userPwd",rules:[{required:!0,message:"请输入密码"}],children:e.jsx(n.Password,{prefix:e.jsx(v,{}),placeholder:"输入密码",allowClear:!0})}),e.jsx(t.Item,{style:{marginTop:40},children:e.jsx(g,{type:"primary",block:!0,htmlType:"submit",loading:l,children:"登录"})})]})]})]})})}export{S as default};
