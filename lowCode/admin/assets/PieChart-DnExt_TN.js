import{r as a,j as s,S as f}from"./index-DzwVQ2UK.js";import{h as x,c as v}from"./Page-B4H8Li0A.js";import{u as S}from"./pageStore-CahLOgRM.js";import"./util-D3GCZG9x.js";import"./DoubleRightOutlined-oEBZ4Nyz.js";import"./index-ytCQesj7.js";import"./index-Cr1Ff2Du.js";import"./index-Bvso4piW.js";import"./tslib.es6-TvfGtUkn.js";import"./index-Ce96gYJJ.js";import"./index-Bz8JGjyY.js";const b=({config:t},d)=>{var n;const[m,i]=a.useState([]),[u,o]=a.useState(!0),[c,p]=a.useState(!0),h=S(e=>e.page.pageData.variableData);a.useEffect(()=>{l({})},[t.api,((n=t.api)==null?void 0:n.sourceType)=="variable"?h:""]);const l=e=>{o(!0),x(t.api,e).then(r=>{(r==null?void 0:r.code)===0&&(Array.isArray(r.data)?i(r.data):(console.error("[PieChart]","data数据格式错误，请检查"),i([]))),o(!1)})};return a.useImperativeHandle(d,()=>({show(){p(!0)},hide(){p(!1)},update:e=>{l(e)}})),c&&s.jsx("div",{style:t.style,children:s.jsx(f,{spinning:u,size:"large",wrapperClassName:"spin-loading",children:s.jsx(v,{...t.props,data:m})})})},$=a.forwardRef(b);export{$ as default};
