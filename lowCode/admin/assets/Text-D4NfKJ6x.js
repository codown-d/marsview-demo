import{r as o,m as H,j as M}from"./index-BrD5sXbN.js";import{d as i,f as a,T as S,o as b}from"./Page-xyqr89RQ.js";import"./pageStore-D-Vypx31.js";import"./util-DHOYMMeV.js";import"./DoubleRightOutlined-BBqvPxX4.js";import"./index-BTJ7lNGW.js";import"./index-CiNuIwYW.js";import"./index-QqHQ6VDD.js";import"./tslib.es6-DQF7CiZa.js";import"./index-D8qpNAOl.js";import"./index-F3O87iVt.js";const j=({config:s,onClick:m},d)=>{const[y,Y]=o.useState(""),[T,n]=o.useState(!0);o.useEffect(()=>{var c,l,u,x;const r=((l=(c=s.props)==null?void 0:c.text)==null?void 0:l.toString())||"",e=(u=s.props)==null?void 0:u.format,f=(x=s.props)==null?void 0:x.script;let t=r;if(e==="YYYY-MM-DD HH:mm:ss"?t=i(r).format(e):e==="YYYY-MM-DD"?t=i(r).format(e):e==="HH:mm:ss"?t=i(r).format(e):e==="money"?t=a(r,"currency"):e==="number"?t=a(r,"decimal"):e==="percent"&&(t=a(r,"percent")),f)try{t=new Function("value",`return (${f})(value);`)(t)}catch(p){console.error("脚本解析失败",p),H.error(JSON.stringify(p))}Y(t==null?void 0:t.toString())},[s.props.text]),o.useImperativeHandle(d,()=>({show(){n(!0)},hide(){n(!1)}}));const h=()=>{m==null||m()};return T&&M.jsx(S.Text,{style:s.style,...b(s.props,["script","text"]),onClick:h,children:y})},V=o.forwardRef(j);export{V as default};
