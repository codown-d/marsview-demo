import{r as s,j as c}from"./index-DzwVQ2UK.js";import{i as F,d as I,x as R}from"./Page-B4H8Li0A.js";import{useFormContext as k}from"./context-wT84Xe1v.js";import{F as y}from"./index-Cr1Ff2Du.js";import"./pageStore-CahLOgRM.js";import"./util-D3GCZG9x.js";import"./DoubleRightOutlined-oEBZ4Nyz.js";import"./index-ytCQesj7.js";import"./tslib.es6-TvfGtUkn.js";import"./index-Bvso4piW.js";import"./index-Ce96gYJJ.js";import"./index-Bz8JGjyY.js";const P=({type:b,config:r,onChange:p},x)=>{const{initValues:W}=k(),[j,f]=s.useState(!0),[v,i]=s.useState(r.props.formWrap.disabled);s.useEffect(()=>{var t;const m=(t=r.props.formItem)==null?void 0:t.name,e=r.props.defaultValue;if(m&&F(e)){const o=r.props.formWrap.format||"HH:mm:ss",a=e.split(",").map(l=>I(l,o));W(b,m,a)}},[]),s.useEffect(()=>{i(r.props.formWrap.disabled)},[r.props.formWrap.disabled]),s.useImperativeHandle(x,()=>({show(){f(!0)},hide(){f(!1)},enable(){i(!1)},disable(){i(!0)}}));const E=m=>{const e={},{startField:t,endField:o,formItem:{name:a},formWrap:{format:l}}=r.props,[n,u]=m.map(d=>d==null?void 0:d.format(l));t&&o?(e[t]=n,e[o]=u,delete e[a]):e[a]=[n,u],p==null||p(e)};return j&&c.jsx(y.Item,{...r.props.formItem,children:c.jsx(R.RangePicker,{...r.props.formWrap,disabled:v,variant:r.props.formWrap.variant||void 0,style:r.style,onChange:E})})},B=s.forwardRef(P);export{B as default};
