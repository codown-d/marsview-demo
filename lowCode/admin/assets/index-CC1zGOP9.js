import{r as v,d as q,e as Z,z as Be,b as we,j as y,S as Ge,B as Qe,aN as qe}from"./index-DzwVQ2UK.js";import{_ as w,a as x,b as T,c as Ke,d as Xe,e as J,C as fe,P as Ye,E as Ze}from"./tslib.es6-TvfGtUkn.js";import{F as Je,D as et,S as tt,R as rt,L as nt}from"./DoubleRightOutlined-oEBZ4Nyz.js";import{R as at}from"./UserOutlined-DaF8R1KZ.js";import{T as it}from"./index-ytCQesj7.js";import"./index-Bvso4piW.js";var ot=function(e){return function(t,r){var n=v.useRef(!1);e(function(){return function(){n.current=!1}},[]),e(function(){if(!n.current)n.current=!0;else return t()},r)}},ut=function(e){return typeof e=="function"};function L(e){var t=v.useRef(e);t.current=v.useMemo(function(){return e},[e]);var r=v.useRef();return r.current||(r.current=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return t.current.apply(this,n)}),r.current}const z=ot(v.useEffect);var Pe=function(e,t){var r=t.manual,n=t.ready,a=n===void 0?!0:n,u=t.defaultParams,i=u===void 0?[]:u,o=t.refreshDeps,c=o===void 0?[]:o,s=t.refreshDepsAction,m=v.useRef(!1);return m.current=!1,z(function(){!r&&a&&(m.current=!0,e.run.apply(e,w([],x(i),!1)))},[a]),z(function(){m.current||r||(m.current=!0,s?s():e.refresh())},w([],x(c),!1)),{onBefore:function(){if(!a)return{stopNow:!0}}}};Pe.onInit=function(e){var t=e.ready,r=t===void 0?!0:t,n=e.manual;return{loading:!n&&r}};function st(e,t){if(e===t)return!0;for(var r=0;r<e.length;r++)if(!Object.is(e[r],t[r]))return!1;return!0}function je(e,t){var r=v.useRef({deps:t,obj:void 0,initialized:!1}).current;return(r.initialized===!1||!st(r.deps,t))&&(r.deps=t,r.obj=e(),r.initialized=!0),r.obj}function _e(e){var t=v.useRef(e);return t.current=e,t}var oe=function(e){var t=_e(e);v.useEffect(function(){return function(){t.current()}},[])},K=new Map,ct=function(e,t,r){var n=K.get(e);n!=null&&n.timer&&clearTimeout(n.timer);var a=void 0;t>-1&&(a=setTimeout(function(){K.delete(e)},t)),K.set(e,T(T({},r),{timer:a}))},lt=function(e){return K.get(e)},X=new Map,ft=function(e){return X.get(e)},dt=function(e,t){X.set(e,t),t.then(function(r){return X.delete(e),r}).catch(function(){X.delete(e)})},k={},vt=function(e,t){k[e]&&k[e].forEach(function(r){return r(t)})},ne=function(e,t){return k[e]||(k[e]=[]),k[e].push(t),function(){var n=k[e].indexOf(t);k[e].splice(n,1)}},mt=function(e,t){var r=t.cacheKey,n=t.cacheTime,a=n===void 0?5*60*1e3:n,u=t.staleTime,i=u===void 0?0:u,o=t.setCache,c=t.getCache,s=v.useRef(),m=v.useRef(),l=function(d,f){o?o(f):ct(d,a,f),vt(d,f.data)},g=function(d,f){return f===void 0&&(f=[]),c?c(f):lt(d)};return je(function(){if(r){var d=g(r);d&&Object.hasOwnProperty.call(d,"data")&&(e.state.data=d.data,e.state.params=d.params,(i===-1||new Date().getTime()-d.time<=i)&&(e.state.loading=!1)),s.current=ne(r,function(f){e.setState({data:f})})}},[]),oe(function(){var d;(d=s.current)===null||d===void 0||d.call(s)}),r?{onBefore:function(d){var f=g(r,d);return!f||!Object.hasOwnProperty.call(f,"data")?{}:i===-1||new Date().getTime()-f.time<=i?{loading:!1,data:f==null?void 0:f.data,error:void 0,returnNow:!0}:{data:f==null?void 0:f.data,error:void 0}},onRequest:function(d,f){var R=ft(r);return R&&R!==m.current?{servicePromise:R}:(R=d.apply(void 0,w([],x(f),!1)),m.current=R,dt(r,R),{servicePromise:R})},onSuccess:function(d,f){var R;r&&((R=s.current)===null||R===void 0||R.call(s),l(r,{data:d,params:f,time:new Date().getTime()}),s.current=ne(r,function(P){e.setState({data:P})}))},onMutate:function(d){var f;r&&((f=s.current)===null||f===void 0||f.call(s),l(r,{data:d,params:e.state.params,time:new Date().getTime()}),s.current=ne(r,function(R){e.setState({data:R})}))}}:{}};function pt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ue=pt,gt=typeof q=="object"&&q&&q.Object===Object&&q,ht=gt,yt=ht,bt=typeof self=="object"&&self&&self.Object===Object&&self,Tt=yt||bt||Function("return this")(),Ee=Tt,St=Ee,Rt=function(){return St.Date.now()},xt=Rt,wt=/\s/;function Pt(e){for(var t=e.length;t--&&wt.test(e.charAt(t)););return t}var jt=Pt,_t=jt,Et=/^\s+/;function Ct(e){return e&&e.slice(0,_t(e)+1).replace(Et,"")}var Ot=Ct,Ft=Ee,$t=Ft.Symbol,Ce=$t,de=Ce,Oe=Object.prototype,Mt=Oe.hasOwnProperty,Dt=Oe.toString,W=de?de.toStringTag:void 0;function Lt(e){var t=Mt.call(e,W),r=e[W];try{e[W]=void 0;var n=!0}catch{}var a=Dt.call(e);return n&&(t?e[W]=r:delete e[W]),a}var Nt=Lt,At=Object.prototype,kt=At.toString;function zt(e){return kt.call(e)}var It=zt,ve=Ce,Wt=Nt,Ht=It,Ut="[object Null]",Vt="[object Undefined]",me=ve?ve.toStringTag:void 0;function Bt(e){return e==null?e===void 0?Vt:Ut:me&&me in Object(e)?Wt(e):Ht(e)}var Gt=Bt;function Qt(e){return e!=null&&typeof e=="object"}var qt=Qt,Kt=Gt,Xt=qt,Yt="[object Symbol]";function Zt(e){return typeof e=="symbol"||Xt(e)&&Kt(e)==Yt}var Jt=Zt,er=Ot,pe=ue,tr=Jt,ge=NaN,rr=/^[-+]0x[0-9a-f]+$/i,nr=/^0b[01]+$/i,ar=/^0o[0-7]+$/i,ir=parseInt;function or(e){if(typeof e=="number")return e;if(tr(e))return ge;if(pe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=pe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=er(e);var r=nr.test(e);return r||ar.test(e)?ir(e.slice(2),r?2:8):rr.test(e)?ge:+e}var ur=or,sr=ue,ae=xt,he=ur,cr="Expected a function",lr=Math.max,fr=Math.min;function dr(e,t,r){var n,a,u,i,o,c,s=0,m=!1,l=!1,g=!0;if(typeof e!="function")throw new TypeError(cr);t=he(t)||0,sr(r)&&(m=!!r.leading,l="maxWait"in r,u=l?lr(he(r.maxWait)||0,t):u,g="trailing"in r?!!r.trailing:g);function d(p){var O=n,E=a;return n=a=void 0,s=p,i=e.apply(E,O),i}function f(p){return s=p,o=setTimeout(C,t),m?d(p):i}function R(p){var O=p-c,E=p-s,N=t-O;return l?fr(N,u-E):N}function P(p){var O=p-c,E=p-s;return c===void 0||O>=t||O<0||l&&E>=u}function C(){var p=ae();if(P(p))return M(p);o=setTimeout(C,R(p))}function M(p){return o=void 0,g&&n?d(p):(n=a=void 0,i)}function F(){o!==void 0&&clearTimeout(o),s=0,n=c=a=o=void 0}function D(){return o===void 0?i:M(ae())}function _(){var p=ae(),O=P(p);if(n=arguments,a=this,c=p,O){if(o===void 0)return f(c);if(l)return clearTimeout(o),o=setTimeout(C,t),d(c)}return o===void 0&&(o=setTimeout(C,t)),i}return _.cancel=F,_.flush=D,_}var Fe=dr;const vr=Z(Fe);var mr=function(e,t){var r=t.debounceWait,n=t.debounceLeading,a=t.debounceTrailing,u=t.debounceMaxWait,i=v.useRef(),o=v.useMemo(function(){var c={};return n!==void 0&&(c.leading=n),a!==void 0&&(c.trailing=a),u!==void 0&&(c.maxWait=u),c},[n,a,u]);return v.useEffect(function(){if(r){var c=e.runAsync.bind(e);return i.current=vr(function(s){s()},r,o),e.runAsync=function(){for(var s=[],m=0;m<arguments.length;m++)s[m]=arguments[m];return new Promise(function(l,g){var d;(d=i.current)===null||d===void 0||d.call(i,function(){c.apply(void 0,w([],x(s),!1)).then(l).catch(g)})})},function(){var s;(s=i.current)===null||s===void 0||s.cancel(),e.runAsync=c}}},[r,o]),r?{onCancel:function(){var c;(c=i.current)===null||c===void 0||c.cancel()}}:{}},pr=function(e,t){var r=t.loadingDelay,n=t.ready,a=v.useRef();if(!r)return{};var u=function(){a.current&&clearTimeout(a.current)};return{onBefore:function(){return u(),n!==!1&&(a.current=setTimeout(function(){e.setState({loading:!0})},r)),{loading:!1}},onFinally:function(){u()},onCancel:function(){u()}}},ee=!!(typeof window<"u"&&window.document&&window.document.createElement);function se(){return ee?document.visibilityState!=="hidden":!0}var H=[];function gr(e){return H.push(e),function(){var r=H.indexOf(e);H.splice(r,1)}}if(ee){var hr=function(){if(se())for(var e=0;e<H.length;e++){var t=H[e];t()}};window.addEventListener("visibilitychange",hr,!1)}var yr=function(e,t){var r=t.pollingInterval,n=t.pollingWhenHidden,a=n===void 0?!0:n,u=t.pollingErrorRetryCount,i=u===void 0?-1:u,o=v.useRef(),c=v.useRef(),s=v.useRef(0),m=function(){var l;o.current&&clearTimeout(o.current),(l=c.current)===null||l===void 0||l.call(c)};return z(function(){r||m()},[r]),r?{onBefore:function(){m()},onError:function(){s.current+=1},onSuccess:function(){s.current=0},onFinally:function(){i===-1||i!==-1&&s.current<=i?o.current=setTimeout(function(){!a&&!se()?c.current=gr(function(){e.refresh()}):e.refresh()},r):s.current=0},onCancel:function(){m()}}:{}};function br(e,t){var r=!1;return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];r||(r=!0,e.apply(void 0,w([],x(n),!1)),setTimeout(function(){r=!1},t))}}function Tr(){return ee&&typeof navigator.onLine<"u"?navigator.onLine:!0}var U=[];function Sr(e){return U.push(e),function(){var r=U.indexOf(e);r>-1&&U.splice(r,1)}}if(ee){var ye=function(){if(!(!se()||!Tr()))for(var e=0;e<U.length;e++){var t=U[e];t()}};window.addEventListener("visibilitychange",ye,!1),window.addEventListener("focus",ye,!1)}var Rr=function(e,t){var r=t.refreshOnWindowFocus,n=t.focusTimespan,a=n===void 0?5e3:n,u=v.useRef(),i=function(){var o;(o=u.current)===null||o===void 0||o.call(u)};return v.useEffect(function(){if(r){var o=br(e.refresh.bind(e),a);u.current=Sr(function(){o()})}return function(){i()}},[r,a]),oe(function(){i()}),{}},xr=function(e,t){var r=t.retryInterval,n=t.retryCount,a=v.useRef(),u=v.useRef(0),i=v.useRef(!1);return n?{onBefore:function(){i.current||(u.current=0),i.current=!1,a.current&&clearTimeout(a.current)},onSuccess:function(){u.current=0},onError:function(){if(u.current+=1,n===-1||u.current<=n){var o=r??Math.min(1e3*Math.pow(2,u.current),3e4);a.current=setTimeout(function(){i.current=!0,e.refresh()},o)}else u.current=0},onCancel:function(){u.current=0,a.current&&clearTimeout(a.current)}}:{}},wr=Fe,Pr=ue,jr="Expected a function";function _r(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(jr);return Pr(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),wr(e,t,{leading:n,maxWait:t,trailing:a})}var Er=_r;const Cr=Z(Er);var Or=function(e,t){var r=t.throttleWait,n=t.throttleLeading,a=t.throttleTrailing,u=v.useRef(),i={};return n!==void 0&&(i.leading=n),a!==void 0&&(i.trailing=a),v.useEffect(function(){if(r){var o=e.runAsync.bind(e);return u.current=Cr(function(c){c()},r,i),e.runAsync=function(){for(var c=[],s=0;s<arguments.length;s++)c[s]=arguments[s];return new Promise(function(m,l){var g;(g=u.current)===null||g===void 0||g.call(u,function(){o.apply(void 0,w([],x(c),!1)).then(m).catch(l)})})},function(){var c;e.runAsync=o,(c=u.current)===null||c===void 0||c.cancel()}}},[r,n,a]),r?{onCancel:function(){var o;(o=u.current)===null||o===void 0||o.cancel()}}:{}},Fr=function(e){v.useEffect(function(){e==null||e()},[])},$r=function(){var e=x(v.useState({}),2),t=e[1];return v.useCallback(function(){return t({})},[])},Mr=function(){function e(t,r,n,a){a===void 0&&(a={}),this.serviceRef=t,this.options=r,this.subscribe=n,this.initState=a,this.count=0,this.state={loading:!1,params:void 0,data:void 0,error:void 0},this.state=T(T(T({},this.state),{loading:!r.manual}),a)}return e.prototype.setState=function(t){t===void 0&&(t={}),this.state=T(T({},this.state),t),this.subscribe()},e.prototype.runPluginHandler=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=this.pluginImpls.map(function(u){var i;return(i=u[t])===null||i===void 0?void 0:i.call.apply(i,w([u],x(r),!1))}).filter(Boolean);return Object.assign.apply(Object,w([{}],x(a),!1))},e.prototype.runAsync=function(){for(var t,r,n,a,u,i,o,c,s,m,l=[],g=0;g<arguments.length;g++)l[g]=arguments[g];return Ke(this,void 0,void 0,function(){var d,f,R,P,C,M,F,D,_,p,O;return Xe(this,function(E){switch(E.label){case 0:if(this.count+=1,d=this.count,f=this.runPluginHandler("onBefore",l),R=f.stopNow,P=R===void 0?!1:R,C=f.returnNow,M=C===void 0?!1:C,F=J(f,["stopNow","returnNow"]),P)return[2,new Promise(function(){})];if(this.setState(T({loading:!0,params:l},F)),M)return[2,Promise.resolve(F.data)];(r=(t=this.options).onBefore)===null||r===void 0||r.call(t,l),E.label=1;case 1:return E.trys.push([1,3,,4]),D=this.runPluginHandler("onRequest",this.serviceRef.current,l).servicePromise,D||(D=(O=this.serviceRef).current.apply(O,w([],x(l),!1))),[4,D];case 2:return _=E.sent(),d!==this.count?[2,new Promise(function(){})]:(this.setState({data:_,error:void 0,loading:!1}),(a=(n=this.options).onSuccess)===null||a===void 0||a.call(n,_,l),this.runPluginHandler("onSuccess",_,l),(i=(u=this.options).onFinally)===null||i===void 0||i.call(u,l,_,void 0),d===this.count&&this.runPluginHandler("onFinally",l,_,void 0),[2,_]);case 3:if(p=E.sent(),d!==this.count)return[2,new Promise(function(){})];throw this.setState({error:p,loading:!1}),(c=(o=this.options).onError)===null||c===void 0||c.call(o,p,l),this.runPluginHandler("onError",p,l),(m=(s=this.options).onFinally)===null||m===void 0||m.call(s,l,void 0,p),d===this.count&&this.runPluginHandler("onFinally",l,void 0,p),p;case 4:return[2]}})})},e.prototype.run=function(){for(var t=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];this.runAsync.apply(this,w([],x(r),!1)).catch(function(a){t.options.onError||console.error(a)})},e.prototype.cancel=function(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")},e.prototype.refresh=function(){this.run.apply(this,w([],x(this.state.params||[]),!1))},e.prototype.refreshAsync=function(){return this.runAsync.apply(this,w([],x(this.state.params||[]),!1))},e.prototype.mutate=function(t){var r=ut(t)?t(this.state.data):t;this.runPluginHandler("onMutate",r),this.setState({data:r})},e}();function Dr(e,t,r){t===void 0&&(t={}),r===void 0&&(r=[]);var n=t.manual,a=n===void 0?!1:n,u=t.ready,i=u===void 0?!0:u,o=J(t,["manual","ready"]),c=T({manual:a,ready:i},o),s=_e(e),m=$r(),l=je(function(){var g=r.map(function(d){var f;return(f=d==null?void 0:d.onInit)===null||f===void 0?void 0:f.call(d,c)}).filter(Boolean);return new Mr(s,c,m,Object.assign.apply(Object,w([{}],x(g),!1)))},[]);return l.options=c,l.pluginImpls=r.map(function(g){return g(l,c)}),Fr(function(){if(!a&&i){var g=l.state.params||t.defaultParams||[];l.run.apply(l,w([],x(g),!1))}}),oe(function(){l.cancel()}),{loading:l.state.loading,data:l.state.data,error:l.state.error,params:l.state.params||[],cancel:L(l.cancel.bind(l)),refresh:L(l.refresh.bind(l)),refreshAsync:L(l.refreshAsync.bind(l)),run:L(l.run.bind(l)),runAsync:L(l.runAsync.bind(l)),mutate:L(l.mutate.bind(l))}}function Lr(e,t,r){return Dr(e,t,w(w([],x([]),!1),[mr,pr,yr,Rr,Or,Pe,mt,xr],!1))}var Nr=function(e,t){var r;t===void 0&&(t={});var n=t.defaultPageSize,a=n===void 0?10:n,u=t.defaultCurrent,i=u===void 0?1:u,o=J(t,["defaultPageSize","defaultCurrent"]),c=Lr(e,T({defaultParams:[{current:i,pageSize:a}],refreshDepsAction:function(){C(1)}},o)),s=c.params[0]||{},m=s.current,l=m===void 0?1:m,g=s.pageSize,d=g===void 0?a:g,f=((r=c.data)===null||r===void 0?void 0:r.total)||0,R=v.useMemo(function(){return Math.ceil(f/d)},[d,f]),P=function(F,D){var _=F<=0?1:F,p=D<=0?1:D,O=Math.ceil(f/p);_>O&&(_=Math.max(1,O));var E=x(c.params||[]),N=E[0],V=N===void 0?{}:N,te=E.slice(1);c.run.apply(c,w([T(T({},V),{current:_,pageSize:p})],x(te),!1))},C=function(F){P(F,d)},M=function(F){P(l,F)};return T(T({},c),{pagination:{current:l,pageSize:d,total:f,totalPage:R,onChange:L(P),changeCurrent:L(C),changePageSize:L(M)}})},Ar=function(e,t){var r;t===void 0&&(t={});var n=t.form,a=t.defaultType,u=a===void 0?"simple":a,i=t.defaultParams,o=t.manual,c=o===void 0?!1:o,s=t.refreshDeps,m=s===void 0?[]:s,l=t.ready,g=l===void 0?!0:l,d=J(t,["form","defaultType","defaultParams","manual","refreshDeps","ready"]),f=Nr(e,T(T({ready:g,manual:!0},d),{onSuccess:function(){for(var S,h=[],j=0;j<arguments.length;j++)h[j]=arguments[j];E.current=!0,(S=d.onSuccess)===null||S===void 0||S.call.apply(S,w([d],x(h),!1))}})),R=f.params,P=R===void 0?[]:R,C=f.run,M=P[2]||{},F=x(v.useState((M==null?void 0:M.type)||u),2),D=F[0],_=F[1],p=v.useRef({}),O=v.useRef([]),E=v.useRef(!1),N=!!(n!=null&&n.getInternalHooks),V=function(){if(!n)return{};if(N)return n.getFieldsValue(null,function(){return!0});var S=n.getFieldsValue(),h={};return Object.keys(S).forEach(function(j){(!n.getFieldInstance||n.getFieldInstance(j))&&(h[j]=S[j])}),h},te=function(){if(!n)return Promise.resolve({});var S=V(),h=Object.keys(S);return N?n.validateFields(h):new Promise(function(j,A){n.validateFields(h,function(I,re){I?A(I):j(re)})})},B=function(){if(n){if(N)return n.setFieldsValue(p.current);var S={};Object.keys(p.current).forEach(function(h){(!n.getFieldInstance||n.getFieldInstance(h))&&(S[h]=p.current[h])}),n.setFieldsValue(S)}},Ie=function(){var S=V();p.current=T(T({},p.current),S),_(function(h){return h==="simple"?"advance":"simple"})},G=function(S){g&&setTimeout(function(){te().then(function(h){h===void 0&&(h={});var j=S||T(T({pageSize:t.defaultPageSize||10},(P==null?void 0:P[0])||{}),{current:1});if(!n){C(j);return}p.current=T(T({},p.current),h),C(j,h,{allFormData:p.current,type:D})}).catch(function(h){return h})})},We=function(){var S,h;n&&n.resetFields(),G(T(T({},(i==null?void 0:i[0])||{}),{pageSize:t.defaultPageSize||((h=(S=t.defaultParams)===null||S===void 0?void 0:S[0])===null||h===void 0?void 0:h.pageSize)||10,current:1}))},He=function(S){var h,j,A;(h=S==null?void 0:S.preventDefault)===null||h===void 0||h.call(S),G(E.current?void 0:T({pageSize:t.defaultPageSize||((A=(j=t.defaultParams)===null||j===void 0?void 0:j[0])===null||A===void 0?void 0:A.pageSize)||10,current:1},(i==null?void 0:i[0])||{}))},Ue=function(S,h,j,A){var I=x(P||[]),re=I[0],Ve=I.slice(1);C.apply(void 0,w([T(T({},re),{current:S.current,pageSize:S.pageSize,filters:h,sorter:j,extra:A})],x(Ve),!1))};v.useEffect(function(){if(P.length>0){p.current=(M==null?void 0:M.allFormData)||{},B(),C.apply(void 0,w([],x(P),!1));return}!c&&g&&(p.current=(i==null?void 0:i[1])||{},B(),G(i==null?void 0:i[0]))},[]),z(function(){g&&B()},[D]);var Q=v.useRef(!1);return Q.current=!1,z(function(){!c&&g&&(Q.current=!0,n&&n.resetFields(),p.current=(i==null?void 0:i[1])||{},B(),G(i==null?void 0:i[0]))},[g]),z(function(){Q.current||g&&(c||(Q.current=!0,f.pagination.changeCurrent(1)))},w([],x(m),!1)),T(T({},f),{tableProps:{dataSource:((r=f.data)===null||r===void 0?void 0:r.list)||O.current,loading:f.loading,onChange:L(Ue),pagination:{current:f.pagination.current,pageSize:f.pagination.pageSize,total:f.pagination.total}},search:{submit:L(He),type:D,changeType:L(Ie),reset:L(We)}})},ce={};ce.match=Ur;ce.parse=$e;var kr=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,zr=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,Ir=/^(?:(min|max)-)?(.+)/,Wr=/(em|rem|px|cm|mm|in|pt|pc)?$/,Hr=/(dpi|dpcm|dppx)?$/;function Ur(e,t){return $e(e).some(function(r){var n=r.inverse,a=r.type==="all"||t.type===r.type;if(a&&n||!(a||n))return!1;var u=r.expressions.every(function(i){var o=i.feature,c=i.modifier,s=i.value,m=t[o];if(!m)return!1;switch(o){case"orientation":case"scan":return m.toLowerCase()===s.toLowerCase();case"width":case"height":case"device-width":case"device-height":s=Se(s),m=Se(m);break;case"resolution":s=Te(s),m=Te(m);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":s=be(s),m=be(m);break;case"grid":case"color":case"color-index":case"monochrome":s=parseInt(s,10)||1,m=parseInt(m,10)||0;break}switch(c){case"min":return m>=s;case"max":return m<=s;default:return m===s}});return u&&!n||!u&&n})}function $e(e){return e.split(",").map(function(t){t=t.trim();var r=t.match(kr),n=r[1],a=r[2],u=r[3]||"",i={};return i.inverse=!!n&&n.toLowerCase()==="not",i.type=a?a.toLowerCase():"all",u=u.match(/\([^\)]+\)/g)||[],i.expressions=u.map(function(o){var c=o.match(zr),s=c[1].toLowerCase().match(Ir);return{modifier:s[1],feature:s[2],value:c[2]}}),i})}function be(e){var t=Number(e),r;return t||(r=e.match(/^(\d+)\s*\/\s*(\d+)$/),t=r[1]/r[2]),t}function Te(e){var t=parseFloat(e),r=String(e).match(Hr)[1];switch(r){case"dpcm":return t/2.54;case"dppx":return t*96;default:return t}}function Se(e){var t=parseFloat(e),r=String(e).match(Wr)[1];switch(r){case"em":return t*16;case"rem":return t*16;case"cm":return t*96/2.54;case"mm":return t*96/2.54/10;case"in":return t*96;case"pt":return t*72;case"pc":return t*72/12;default:return t}}var Vr=ce.match,Re=typeof window<"u"?window.matchMedia:null;function Br(e,t,r){var n=this,a;Re&&!r&&(a=Re.call(window,e)),a?(this.matches=a.matches,this.media=a.media,a.addListener(o)):(this.matches=Vr(e,t),this.media=e),this.addListener=u,this.removeListener=i,this.dispose=c;function u(s){a&&a.addListener(s)}function i(s){a&&a.removeListener(s)}function o(s){n.matches=s.matches,n.media=s.media}function c(){a&&a.removeListener(o)}}function Gr(e,t,r){return new Br(e,t,r)}var Qr=Gr;const qr=Z(Qr);var Kr=/[A-Z]/g,Xr=/^ms-/,ie={};function Yr(e){return"-"+e.toLowerCase()}function Me(e){if(ie.hasOwnProperty(e))return ie[e];var t=e.replace(Kr,Yr);return ie[e]=Xr.test(t)?"-"+t:t}function Zr(e,t){if(e===t)return!0;if(!e||!t)return!1;const r=Object.keys(e),n=Object.keys(t),a=r.length;if(n.length!==a)return!1;for(let u=0;u<a;u++){const i=r[u];if(e[i]!==t[i]||!Object.prototype.hasOwnProperty.call(t,i))return!1}return!0}var De={exports:{}},Jr="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",en=Jr,tn=en;function Le(){}function Ne(){}Ne.resetWarningCache=Le;var rn=function(){function e(n,a,u,i,o,c){if(c!==tn){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ne,resetWarningCache:Le};return r.PropTypes=r,r};De.exports=rn();var nn=De.exports;const b=Z(nn),$=b.oneOfType([b.string,b.number]),le={all:b.bool,grid:b.bool,aural:b.bool,braille:b.bool,handheld:b.bool,print:b.bool,projection:b.bool,screen:b.bool,tty:b.bool,tv:b.bool,embossed:b.bool},Ae={orientation:b.oneOf(["portrait","landscape"]),scan:b.oneOf(["progressive","interlace"]),aspectRatio:b.string,deviceAspectRatio:b.string,height:$,deviceHeight:$,width:$,deviceWidth:$,color:b.bool,colorIndex:b.bool,monochrome:b.bool,resolution:$,type:Object.keys(le)},{type:On,...an}=Ae,ke={minAspectRatio:b.string,maxAspectRatio:b.string,minDeviceAspectRatio:b.string,maxDeviceAspectRatio:b.string,minHeight:$,maxHeight:$,minDeviceHeight:$,maxDeviceHeight:$,minWidth:$,maxWidth:$,minDeviceWidth:$,maxDeviceWidth:$,minColor:b.number,maxColor:b.number,minColorIndex:b.number,maxColorIndex:b.number,minMonochrome:b.number,maxMonochrome:b.number,minResolution:$,maxResolution:$,...an},on={...le,...ke};var un={all:on,types:le,matchers:Ae,features:ke};const sn=e=>`not ${e}`,cn=(e,t)=>{const r=Me(e);return typeof t=="number"&&(t=`${t}px`),t===!0?r:t===!1?sn(r):`(${r}: ${t})`},ln=e=>e.join(" and "),fn=e=>{const t=[];return Object.keys(un.all).forEach(r=>{const n=e[r];n!=null&&t.push(cn(r,n))}),ln(t)},dn=v.createContext(void 0),vn=e=>e.query||fn(e),xe=e=>e?Object.keys(e).reduce((r,n)=>(r[Me(n)]=e[n],r),{}):void 0,ze=()=>{const e=v.useRef(!1);return v.useEffect(()=>{e.current=!0},[]),e.current},mn=e=>{const t=v.useContext(dn),r=()=>xe(e)||xe(t),[n,a]=v.useState(r);return v.useEffect(()=>{const u=r();Zr(n,u)||a(u)},[e,t]),n},pn=e=>{const t=()=>vn(e),[r,n]=v.useState(t);return v.useEffect(()=>{const a=t();r!==a&&n(a)},[e]),r},gn=(e,t)=>{const r=()=>qr(e,t||{},!!t),[n,a]=v.useState(r),u=ze();return v.useEffect(()=>{if(u){const i=r();return a(i),()=>{i&&i.dispose()}}},[e,t]),n},hn=e=>{const[t,r]=v.useState(e.matches);return v.useEffect(()=>{const n=a=>{r(a.matches)};return e.addListener(n),r(e.matches),()=>{e.removeListener(n)}},[e]),t},yn=(e,t,r)=>{const n=mn(t),a=pn(e);if(!a)throw new Error("Invalid or missing MediaQuery!");const u=gn(a,n),i=hn(u),o=ze();return v.useEffect(()=>{o&&r&&r(i)},[i]),v.useEffect(()=>()=>{u&&u.dispose()},[]),i},bn="_homeHeader_j1gnb_1",Tn="_logo_j1gnb_16",Sn="_project_j1gnb_24",Rn="_itemRemark_j1gnb_34",Y={homeHeader:bn,logo:Tn,project:Sn,itemRemark:Rn};function xn(){const e=Be(),t=we();return y.jsxs("div",{className:Y.homeHeader,children:[y.jsxs("div",{className:Y.logo,children:[y.jsx("img",{width:40,src:"/imgs/mars-logo.png",alt:"logo"}),y.jsx("span",{children:"工作台"})]}),y.jsxs(Je,{align:"center",children:[e.avatar?y.jsx("img",{width:30,src:e.avatar,style:{marginRight:10}}):null,y.jsx(et,{menu:{items:[{key:"profile",label:e.userName},{key:"logout",label:"退出"}],onClick:({key:r})=>{r==="logout"&&(localStorage.clear(),t(`/login?callback=${window.location.href}`))},selectable:!0},children:y.jsx("a",{onClick:r=>r.preventDefault(),children:y.jsxs(tt,{children:[`${e==null?void 0:e.nickName}`||"开发者",y.jsx(rt,{})]})})})]})]})}function Fn(){const e=we(),t=yn({query:"(min-width: 1920px)"}),r=({current:o,pageSize:c})=>qe({pageNum:o,pageSize:c}).then(s=>({total:s.total,list:s.list})),{tableProps:n,loading:a}=Ar(r,{defaultPageSize:t?15:12}),u=(o,c,s)=>{const m={stg:"访问测试环境",pre:"访问预发布环境",prd:"访问生产环境"}[o];return y.jsx(it,{title:m,children:y.jsx("a",{href:`/project/${s}?env=${o}`,target:"_blank",children:c})})},i=async o=>{e(`/project/${o}`)};return y.jsxs(y.Fragment,{children:[y.jsx(xn,{}),y.jsxs(nt.Content,{className:Y.project,children:[y.jsx(Ge,{spinning:a,size:"large",children:y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:20},children:n.dataSource.map(o=>y.jsx(fe,{hoverable:!0,actions:[u("stg","STG",o.id),u("pre","PRE",o.id),u("prd","PRD",o.id)],children:y.jsx("div",{onClick:()=>i(o.id),children:y.jsx(fe.Meta,{style:{cursor:"pointer"},avatar:y.jsx("img",{src:o.logo,style:{width:32}}),title:o.name,description:y.jsxs(y.Fragment,{children:[y.jsx("div",{style:{position:"absolute",top:15,right:15}}),y.jsx("div",{className:Y.itemRemark,children:o.remark}),y.jsxs("div",{style:{marginTop:10},children:[y.jsx(at,{style:{fontSize:14,marginRight:5}}),o.updatedAt]})]})})})},o.id))})}),n.dataSource.length>0?y.jsx(Ye,{style:{marginTop:16},...n.pagination,onChange:(o,c)=>n.onChange({current:o,pageSize:c}),pageSize:12,showTotal:o=>`总共 ${o} 条`,align:"end"}):!a&&y.jsx(Ze,{style:{marginTop:100},description:"当前暂无可访问的项目",children:y.jsx(Qe,{type:"primary",onClick:()=>window.open("https://www.marsview.com.cn/projects","blank"),children:"去创建"})})]})]})}export{Fn as default};
