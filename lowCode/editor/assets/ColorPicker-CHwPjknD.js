import{r as m,ao as Q,k as i,p as _,au as ce,ap as ct,x as U,dw as Pe,dx as we,w as Z,dy as Re,dz as ne,aa as se,dA as Ie,dB as ut,dC as dt,dD as V,dE as de,dF as te,dG as ie,dH as He,V as J,dI as B,bi as xe,dJ as oe,dK as gt,bj as De,bB as mt,X as D,Z as pt,$ as ft,bC as Ct,C as ht,b6 as vt,be as bt,bz as xt,aE as St,t as $t,P as yt,bA as Et,b$ as Ot}from"./index-DmOc0qNU.js";import{g as Pt}from"./useVariants-BdxfBOl3.js";import{D as wt}from"./index-Do4qj9dd.js";import{S as Rt}from"./index-eEpHjpWF.js";import{S as It}from"./index-DSaINUG7.js";import{T as Ht}from"./index-o7l-rjNw.js";import{I as Dt}from"./index-B-YUPJxN.js";import{a as Nt,U as jt,S as Mt}from"./index-C-pH6dK5.js";function At(e){var o="touches"in e?e.touches[0]:e,t=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,n=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:o.pageX-t,pageY:o.pageY-n}}function Ne(e){var o=e.targetRef,t=e.containerRef,n=e.direction,r=e.onDragChange,a=e.onDragChangeComplete,s=e.calculate,c=e.color,l=e.disabledDrag,u=m.useState({x:0,y:0}),d=Q(u,2),g=d[0],v=d[1],p=m.useRef(null),x=m.useRef(null);m.useEffect(function(){v(s())},[c]),m.useEffect(function(){return function(){document.removeEventListener("mousemove",p.current),document.removeEventListener("mouseup",x.current),document.removeEventListener("touchmove",p.current),document.removeEventListener("touchend",x.current),p.current=null,x.current=null}},[]);var h=function(f){var C=At(f),P=C.pageX,w=C.pageY,H=t.current.getBoundingClientRect(),L=H.x,z=H.y,F=H.width,A=H.height,X=o.current.getBoundingClientRect(),E=X.width,R=X.height,I=E/2,N=R/2,j=Math.max(0,Math.min(P-L,F))-I,O=Math.max(0,Math.min(w-z,A))-N,q={x:j,y:n==="x"?g.y:O};if(E===0&&R===0||E!==R)return!1;r==null||r(q)},y=function(f){f.preventDefault(),h(f)},S=function(f){f.preventDefault(),document.removeEventListener("mousemove",p.current),document.removeEventListener("mouseup",x.current),document.removeEventListener("touchmove",p.current),document.removeEventListener("touchend",x.current),p.current=null,x.current=null,a==null||a()},b=function(f){document.removeEventListener("mousemove",p.current),document.removeEventListener("mouseup",x.current),!l&&(h(f),document.addEventListener("mousemove",y),document.addEventListener("mouseup",S),document.addEventListener("touchmove",y),document.addEventListener("touchend",S),p.current=y,x.current=S)};return[g,b]}var je=function(o){var t=o.size,n=t===void 0?"default":t,r=o.color,a=o.prefixCls;return i.createElement("div",{className:_("".concat(a,"-handler"),ce({},"".concat(a,"-handler-sm"),n==="small")),style:{backgroundColor:r}})},Me=function(o){var t=o.children,n=o.style,r=o.prefixCls;return i.createElement("div",{className:"".concat(r,"-palette"),style:ct({position:"relative"},n)},t)},Ae=m.forwardRef(function(e,o){var t=e.children,n=e.x,r=e.y;return i.createElement("div",{ref:o,style:{position:"absolute",left:"".concat(n,"%"),top:"".concat(r,"%"),zIndex:1,transform:"translate(-50%, -50%)"}},t)}),zt=function(o){var t=o.color,n=o.onChange,r=o.prefixCls,a=o.onChangeComplete,s=o.disabled,c=m.useRef(),l=m.useRef(),u=m.useRef(t),d=U(function(h){var y=Pe({offset:h,targetRef:l,containerRef:c,color:t});u.current=y,n(y)}),g=Ne({color:t,containerRef:c,targetRef:l,calculate:function(){return we(t)},onDragChange:d,onDragChangeComplete:function(){return a==null?void 0:a(u.current)},disabledDrag:s}),v=Q(g,2),p=v[0],x=v[1];return i.createElement("div",{ref:c,className:"".concat(r,"-select"),onMouseDown:x,onTouchStart:x},i.createElement(Me,{prefixCls:r},i.createElement(Ae,{x:p.x,y:p.y,ref:l},i.createElement(je,{color:t.toRgbString(),prefixCls:r})),i.createElement("div",{className:"".concat(r,"-saturation"),style:{backgroundColor:"hsl(".concat(t.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},_t=function(o,t){var n=Z(o,{value:t}),r=Q(n,2),a=r[0],s=r[1],c=m.useMemo(function(){return Re(a)},[a]);return[c,s]},Vt=function(o){var t=o.colors,n=o.children,r=o.direction,a=r===void 0?"to right":r,s=o.type,c=o.prefixCls,l=m.useMemo(function(){return t.map(function(u,d){var g=Re(u);return s==="alpha"&&d===t.length-1&&(g=new ne(g.setA(1))),g.toRgbString()}).join(",")},[t,s]);return i.createElement("div",{className:"".concat(c,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(a,", ").concat(l,")")}},n)},Ft=function(o){var t=o.prefixCls,n=o.colors,r=o.disabled,a=o.onChange,s=o.onChangeComplete,c=o.color,l=o.type,u=m.useRef(),d=m.useRef(),g=m.useRef(c),v=function(C){return l==="hue"?C.getHue():C.a*100},p=U(function(f){var C=Pe({offset:f,targetRef:d,containerRef:u,color:c,type:l});g.current=C,a(v(C))}),x=Ne({color:c,targetRef:d,containerRef:u,calculate:function(){return we(c,l)},onDragChange:p,onDragChangeComplete:function(){s(v(g.current))},direction:"x",disabledDrag:r}),h=Q(x,2),y=h[0],S=h[1],b=i.useMemo(function(){if(l==="hue"){var f=c.toHsb();f.s=1,f.b=1,f.a=1;var C=new ne(f);return C}return c},[c,l]),$=i.useMemo(function(){return n.map(function(f){return"".concat(f.color," ").concat(f.percent,"%")})},[n]);return i.createElement("div",{ref:u,className:_("".concat(t,"-slider"),"".concat(t,"-slider-").concat(l)),onMouseDown:S,onTouchStart:S},i.createElement(Me,{prefixCls:t},i.createElement(Ae,{x:y.x,y:y.y,ref:d},i.createElement(je,{size:"small",color:b.toHexString(),prefixCls:t})),i.createElement(Vt,{colors:$,type:l,prefixCls:t})))};function kt(e){return m.useMemo(function(){var o=e||{},t=o.slider;return[t||Ft]},[e])}var Lt=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}],Tt=m.forwardRef(function(e,o){var t=e.value,n=e.defaultValue,r=e.prefixCls,a=r===void 0?ut:r,s=e.onChange,c=e.onChangeComplete,l=e.className,u=e.style,d=e.panelRender,g=e.disabledAlpha,v=g===void 0?!1:g,p=e.disabled,x=p===void 0?!1:p,h=e.components,y=kt(h),S=Q(y,1),b=S[0],$=_t(n||dt,t),f=Q($,2),C=f[0],P=f[1],w=m.useMemo(function(){return C.setA(1).toRgbString()},[C]),H=function(O,q){t||P(O),s==null||s(O,q)},L=function(O){return new ne(C.setHue(O))},z=function(O){return new ne(C.setA(O/100))},F=function(O){H(L(O),{type:"hue",value:O})},A=function(O){H(z(O),{type:"alpha",value:O})},X=function(O){c&&c(L(O))},E=function(O){c&&c(z(O))},R=_("".concat(a,"-panel"),l,ce({},"".concat(a,"-panel-disabled"),x)),I={prefixCls:a,disabled:x,color:C},N=i.createElement(i.Fragment,null,i.createElement(zt,se({onChange:H},I,{onChangeComplete:c})),i.createElement("div",{className:"".concat(a,"-slider-container")},i.createElement("div",{className:_("".concat(a,"-slider-group"),ce({},"".concat(a,"-slider-group-disabled-alpha"),v))},i.createElement(b,se({},I,{type:"hue",colors:Lt,min:0,max:359,value:C.getHue(),onChange:F,onChangeComplete:X})),!v&&i.createElement(b,se({},I,{type:"alpha",colors:[{percent:0,color:"rgba(255, 0, 4, 0)"},{percent:100,color:w}],min:0,max:100,value:C.a*100,onChange:A,onChangeComplete:E}))),i.createElement(Ie,{color:C.toRgbString(),prefixCls:a})));return i.createElement("div",{className:R,style:u,ref:o},typeof d=="function"?d(N):N)});const ze=i.createContext({}),_e=i.createContext({}),Ve=e=>{let{prefixCls:o,value:t,onChange:n}=e;const r=()=>{if(n&&t&&!t.cleared){const a=t.toHsb();a.a=0;const s=V(a);s.cleared=!0,n(s)}};return i.createElement("div",{className:`${o}-clear`,onClick:r})};var G;(function(e){e.hex="hex",e.rgb="rgb",e.hsb="hsb"})(G||(G={}));const Y=e=>{let{prefixCls:o,min:t=0,max:n=100,value:r,onChange:a,className:s,formatter:c}=e;const l=`${o}-steppers`,[u,d]=m.useState(r);return m.useEffect(()=>{Number.isNaN(r)||d(r)},[r]),i.createElement(Ht,{className:_(l,s),min:t,max:n,value:u,formatter:c,size:"small",onChange:g=>{r||d(g||0),a==null||a(g)}})},Wt=e=>{let{prefixCls:o,value:t,onChange:n}=e;const r=`${o}-alpha-input`,[a,s]=m.useState(V(t||"#000"));m.useEffect(()=>{t&&s(t)},[t]);const c=l=>{const u=a.toHsb();u.a=(l||0)/100;const d=V(u);t||s(d),n==null||n(d)};return i.createElement(Y,{value:de(a),prefixCls:o,formatter:l=>`${l}%`,className:r,onChange:c})},Bt=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,Xt=e=>Bt.test(`#${e}`),qt=e=>{let{prefixCls:o,value:t,onChange:n}=e;const r=`${o}-hex-input`,[a,s]=m.useState(()=>t?te(t.toHexString()):void 0);m.useEffect(()=>{t&&s(te(t.toHexString()))},[t]);const c=l=>{const u=l.target.value;s(te(u)),Xt(te(u,!0))&&(n==null||n(V(u)))};return i.createElement(Dt,{className:r,value:a,prefix:"#",onChange:c,size:"small"})},Gt=e=>{let{prefixCls:o,value:t,onChange:n}=e;const r=`${o}-hsb-input`,[a,s]=m.useState(V(t||"#000"));m.useEffect(()=>{t&&s(t)},[t]);const c=(l,u)=>{const d=a.toHsb();d[u]=u==="h"?l:(l||0)/100;const g=V(d);t||s(g),n==null||n(g)};return i.createElement("div",{className:r},i.createElement(Y,{max:360,min:0,value:Number(a.toHsb().h),prefixCls:o,className:r,formatter:l=>ie(l||0).toString(),onChange:l=>c(Number(l),"h")}),i.createElement(Y,{max:100,min:0,value:Number(a.toHsb().s)*100,prefixCls:o,className:r,formatter:l=>`${ie(l||0)}%`,onChange:l=>c(Number(l),"s")}),i.createElement(Y,{max:100,min:0,value:Number(a.toHsb().b)*100,prefixCls:o,className:r,formatter:l=>`${ie(l||0)}%`,onChange:l=>c(Number(l),"b")}))},Yt=e=>{let{prefixCls:o,value:t,onChange:n}=e;const r=`${o}-rgb-input`,[a,s]=m.useState(V(t||"#000"));m.useEffect(()=>{t&&s(t)},[t]);const c=(l,u)=>{const d=a.toRgb();d[u]=l||0;const g=V(d);t||s(g),n==null||n(g)};return i.createElement("div",{className:r},i.createElement(Y,{max:255,min:0,value:Number(a.toRgb().r),prefixCls:o,className:r,onChange:l=>c(Number(l),"r")}),i.createElement(Y,{max:255,min:0,value:Number(a.toRgb().g),prefixCls:o,className:r,onChange:l=>c(Number(l),"g")}),i.createElement(Y,{max:255,min:0,value:Number(a.toRgb().b),prefixCls:o,className:r,onChange:l=>c(Number(l),"b")}))},Kt=[G.hex,G.hsb,G.rgb].map(e=>({value:e,label:e.toLocaleUpperCase()})),Ut=e=>{const{prefixCls:o,format:t,value:n,disabledAlpha:r,onFormatChange:a,onChange:s,disabledFormat:c}=e,[l,u]=Z(G.hex,{value:t,onChange:a}),d=`${o}-input`,g=p=>{u(p)},v=m.useMemo(()=>{const p={value:n,prefixCls:o,onChange:s};switch(l){case G.hsb:return i.createElement(Gt,Object.assign({},p));case G.rgb:return i.createElement(Yt,Object.assign({},p));default:return i.createElement(qt,Object.assign({},p))}},[l,o,n,s]);return i.createElement("div",{className:`${d}-container`},!c&&i.createElement(It,{value:l,variant:"borderless",getPopupContainer:p=>p,popupMatchSelectWidth:68,placement:"bottomRight",onChange:g,className:`${o}-format-select`,size:"small",options:Kt}),i.createElement("div",{className:d},v),!r&&i.createElement(Wt,{prefixCls:o,value:n,onChange:s}))};var Qt=function(e,o){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&o.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)o.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]]);return t};const Fe=e=>{const{prefixCls:o,colors:t,type:n,color:r,range:a=!1,className:s,activeIndex:c,onActive:l,onDragStart:u,onDragChange:d,onKeyDelete:g}=e,v=Qt(e,["prefixCls","colors","type","color","range","className","activeIndex","onActive","onDragStart","onDragChange","onKeyDelete"]),p=Object.assign(Object.assign({},v),{track:!1}),x=m.useMemo(()=>`linear-gradient(90deg, ${t.map(P=>`${P.color} ${P.percent}%`).join(", ")})`,[t]),h=m.useMemo(()=>!r||!n?null:n==="alpha"?r.toRgbString():`hsl(${r.toHsb().h}, 100%, 50%)`,[r,n]),y=U(u),S=U(d),b=m.useMemo(()=>({onDragStart:y,onDragChange:S}),[]),$=U((C,P)=>{const{onFocus:w,style:H,className:L,onKeyDown:z}=C.props,F=Object.assign({},H);return n==="gradient"&&(F.background=He(t,P.value)),m.cloneElement(C,{onFocus:A=>{l==null||l(P.index),w==null||w(A)},style:F,className:_(L,{[`${o}-slider-handle-active`]:c===P.index}),onKeyDown:A=>{(A.key==="Delete"||A.key==="Backspace")&&g&&g(P.index),z==null||z(A)}})}),f=m.useMemo(()=>({direction:"ltr",handleRender:$}),[]);return m.createElement(Nt.Provider,{value:f},m.createElement(jt.Provider,{value:b},m.createElement(Mt,Object.assign({},p,{className:_(s,`${o}-slider`),tooltip:{open:!1},range:{editable:a,minCount:2},styles:{rail:{background:x},handle:h?{background:h}:{}},classNames:{rail:`${o}-slider-rail`,handle:`${o}-slider-handle`}}))))},Jt=e=>{const{value:o,onChange:t,onChangeComplete:n}=e,r=s=>t(s[0]),a=s=>n(s[0]);return m.createElement(Fe,Object.assign({},e,{value:[o],onChange:r,onChangeComplete:a}))};function Se(e){return J(e).sort((o,t)=>o.percent-t.percent)}const Zt=e=>{const{prefixCls:o,mode:t,onChange:n,onChangeComplete:r,onActive:a,activeIndex:s,onGradientDragging:c,colors:l}=e,u=t==="gradient",d=m.useMemo(()=>l.map(S=>({percent:S.percent,color:S.color.toRgbString()})),[l]),g=m.useMemo(()=>d.map(S=>S.percent),[d]),v=m.useRef(d),p=S=>{let{rawValues:b,draggingIndex:$,draggingValue:f}=S;if(b.length>d.length){const C=He(d,f),P=J(d);P.splice($,0,{percent:f,color:C}),v.current=P}else v.current=d;c(!0),n(new B(Se(v.current)),!0)},x=S=>{let{deleteIndex:b,draggingIndex:$,draggingValue:f}=S,C=J(v.current);b!==-1?C.splice(b,1):(C[$]=Object.assign(Object.assign({},C[$]),{percent:f}),C=Se(C)),n(new B(C),!0)},h=S=>{const b=J(d);b.splice(S,1);const $=new B(b);n($),r($)},y=S=>{r(new B(d)),s>=S.length&&a(S.length-1),c(!1)};return u?m.createElement(Fe,{min:0,max:100,prefixCls:o,className:`${o}-gradient-slider`,colors:d,color:null,value:g,range:!0,onChangeComplete:y,disabled:!1,type:"gradient",activeIndex:s,onActive:a,onDragStart:p,onDragChange:x,onKeyDelete:h}):null},eo=m.memo(Zt);var to=function(e,o){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&o.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)o.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]]);return t};const oo={slider:Jt},$e=()=>{const e=m.useContext(ze),{mode:o,onModeChange:t,modeOptions:n,prefixCls:r,allowClear:a,value:s,disabledAlpha:c,onChange:l,onClear:u,onChangeComplete:d,activeIndex:g,gradientDragging:v}=e,p=to(e,["mode","onModeChange","modeOptions","prefixCls","allowClear","value","disabledAlpha","onChange","onClear","onChangeComplete","activeIndex","gradientDragging"]),x=i.useMemo(()=>s.cleared?[{percent:0,color:new B("")},{percent:100,color:new B("")}]:s.getColors(),[s]),h=!s.isGradient(),[y,S]=i.useState(s);xe(()=>{var E;h||S((E=x[g])===null||E===void 0?void 0:E.color)},[v,g]);const b=i.useMemo(()=>{var E;return h?s:v?y:(E=x[g])===null||E===void 0?void 0:E.color},[s,g,h,y,v]),[$,f]=i.useState(b),[C,P]=i.useState(0),w=$!=null&&$.equals(b)?b:$;xe(()=>{f(b)},[C,b==null?void 0:b.toHexString()]);const H=(E,R)=>{let I=V(E);if(s.cleared){const j=I.toRgb();if(!j.r&&!j.g&&!j.b&&R){const{type:O,value:q=0}=R;I=new B({h:O==="hue"?q:0,s:1,b:1,a:O==="alpha"?q/100:1})}else I=oe(I)}if(o==="single")return I;const N=J(x);return N[g]=Object.assign(Object.assign({},N[g]),{color:I}),new B(N)},L=(E,R,I)=>{const N=H(E,I);f(N.isGradient()?N.getColors()[g].color:N),l(N,R)},z=(E,R)=>{d(H(E,R)),P(I=>I+1)},F=E=>{l(H(E))};let A=null;const X=n.length>1;return(a||X)&&(A=i.createElement("div",{className:`${r}-operation`},X&&i.createElement(Rt,{size:"small",options:n,value:o,onChange:t}),i.createElement(Ve,Object.assign({prefixCls:r,value:s,onChange:E=>{l(E),u==null||u()}},p)))),i.createElement(i.Fragment,null,A,i.createElement(eo,Object.assign({},e,{colors:x})),i.createElement(Tt,{prefixCls:r,value:w==null?void 0:w.toHsb(),disabledAlpha:c,onChange:(E,R)=>{L(E,!0,R)},onChangeComplete:(E,R)=>{z(E,R)},components:oo}),i.createElement(Ut,Object.assign({value:b,onChange:F,prefixCls:r,disabledAlpha:c},p)))},ye=()=>{const{prefixCls:e,value:o,presets:t,onChange:n}=m.useContext(_e);return Array.isArray(t)?i.createElement(gt,{value:o,presets:t,prefixCls:e,onChange:n}):null},no=e=>{const{prefixCls:o,presets:t,panelRender:n,value:r,onChange:a,onClear:s,allowClear:c,disabledAlpha:l,mode:u,onModeChange:d,modeOptions:g,onChangeComplete:v,activeIndex:p,onActive:x,format:h,onFormatChange:y,gradientDragging:S,onGradientDragging:b,disabledFormat:$}=e,f=`${o}-inner`,C=i.useMemo(()=>({prefixCls:o,value:r,onChange:a,onClear:s,allowClear:c,disabledAlpha:l,mode:u,onModeChange:d,modeOptions:g,onChangeComplete:v,activeIndex:p,onActive:x,format:h,onFormatChange:y,gradientDragging:S,onGradientDragging:b,disabledFormat:$}),[o,r,a,s,c,l,u,d,g,v,p,x,h,y,S,b,$]),P=i.useMemo(()=>({prefixCls:o,value:r,presets:t,onChange:a}),[o,r,t,a]),w=i.createElement("div",{className:`${f}-content`},i.createElement($e,null),Array.isArray(t)&&i.createElement(wt,null),i.createElement(ye,null));return i.createElement(ze.Provider,{value:C},i.createElement(_e.Provider,{value:P},i.createElement("div",{className:f},typeof n=="function"?n(w,{components:{Picker:$e,Presets:ye}}):w)))};var ro=function(e,o){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&o.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)o.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]]);return t};const ao=m.forwardRef((e,o)=>{const{color:t,prefixCls:n,open:r,disabled:a,format:s,className:c,showText:l,activeIndex:u}=e,d=ro(e,["color","prefixCls","open","disabled","format","className","showText","activeIndex"]),g=`${n}-trigger`,v=`${g}-text`,p=`${v}-cell`,[x]=De("ColorPicker"),h=i.useMemo(()=>{if(!l)return"";if(typeof l=="function")return l(t);if(t.cleared)return x.transparent;if(t.isGradient())return t.getColors().map(($,f)=>{const C=u!==-1&&u!==f;return i.createElement("span",{key:f,className:_(p,C&&`${p}-inactive`)},$.color.toRgbString()," ",$.percent,"%")});const S=t.toHexString().toUpperCase(),b=de(t);switch(s){case"rgb":return t.toRgbString();case"hsb":return t.toHsbString();default:return b<100?`${S.slice(0,7)},${b}%`:S}},[t,s,l,u]),y=m.useMemo(()=>t.cleared?i.createElement(Ve,{prefixCls:n}):i.createElement(Ie,{prefixCls:n,color:t.toCssString()}),[t,n]);return i.createElement("div",Object.assign({ref:o,className:_(g,c,{[`${g}-active`]:r,[`${g}-disabled`]:a})},mt(d)),y,l&&i.createElement("div",{className:v},h))});function lo(e,o,t){const[n]=De("ColorPicker"),[r,a]=Z(e,{value:o}),[s,c]=m.useState("single"),[l,u]=m.useMemo(()=>{const h=(Array.isArray(t)?t:[t]).filter($=>$);h.length||h.push("single");const y=new Set(h),S=[],b=($,f)=>{y.has($)&&S.push({label:f,value:$})};return b("single",n.singleColor),b("gradient",n.gradientColor),[S,y]},[t]),[d,g]=m.useState(null),v=U(h=>{g(h),a(h)}),p=m.useMemo(()=>{const h=V(r||"");return h.equals(d)?d:h},[r,d]),x=m.useMemo(()=>{var h;return u.has(s)?s:(h=l[0])===null||h===void 0?void 0:h.value},[u,s,l]);return m.useEffect(()=>{c(p.isGradient()?"gradient":"single")},[p]),[p,v,x,c,l]}const ke=(e,o)=>({backgroundImage:`conic-gradient(${o} 0 25%, transparent 0 50%, ${o} 0 75%, transparent 0)`,backgroundSize:`${e} ${e}`}),Ee=(e,o)=>{const{componentCls:t,borderRadiusSM:n,colorPickerInsetShadow:r,lineWidth:a,colorFillSecondary:s}=e;return{[`${t}-color-block`]:Object.assign(Object.assign({position:"relative",borderRadius:n,width:o,height:o,boxShadow:r,flex:"none"},ke("50%",e.colorFillSecondary)),{[`${t}-color-block-inner`]:{width:"100%",height:"100%",boxShadow:`inset 0 0 0 ${D(a)} ${s}`,borderRadius:"inherit"}})}},so=e=>{const{componentCls:o,antCls:t,fontSizeSM:n,lineHeightSM:r,colorPickerAlphaInputWidth:a,marginXXS:s,paddingXXS:c,controlHeightSM:l,marginXS:u,fontSizeIcon:d,paddingXS:g,colorTextPlaceholder:v,colorPickerInputNumberHandleWidth:p,lineWidth:x}=e;return{[`${o}-input-container`]:{display:"flex",[`${o}-steppers${t}-input-number`]:{fontSize:n,lineHeight:r,[`${t}-input-number-input`]:{paddingInlineStart:c,paddingInlineEnd:0},[`${t}-input-number-handler-wrap`]:{width:p}},[`${o}-steppers${o}-alpha-input`]:{flex:`0 0 ${D(a)}`,marginInlineStart:s},[`${o}-format-select${t}-select`]:{marginInlineEnd:u,width:"auto","&-single":{[`${t}-select-selector`]:{padding:0,border:0},[`${t}-select-arrow`]:{insetInlineEnd:0},[`${t}-select-selection-item`]:{paddingInlineEnd:e.calc(d).add(s).equal(),fontSize:n,lineHeight:D(l)},[`${t}-select-item-option-content`]:{fontSize:n,lineHeight:r},[`${t}-select-dropdown`]:{[`${t}-select-item`]:{minHeight:"auto"}}}},[`${o}-input`]:{gap:s,alignItems:"center",flex:1,width:0,[`${o}-hsb-input,${o}-rgb-input`]:{display:"flex",gap:s,alignItems:"center"},[`${o}-steppers`]:{flex:1},[`${o}-hex-input${t}-input-affix-wrapper`]:{flex:1,padding:`0 ${D(g)}`,[`${t}-input`]:{fontSize:n,textTransform:"uppercase",lineHeight:D(e.calc(l).sub(e.calc(x).mul(2)).equal())},[`${t}-input-prefix`]:{color:v}}}}}},io=e=>{const{componentCls:o,controlHeightLG:t,borderRadiusSM:n,colorPickerInsetShadow:r,marginSM:a,colorBgElevated:s,colorFillSecondary:c,lineWidthBold:l,colorPickerHandlerSize:u}=e;return{userSelect:"none",[`${o}-select`]:{[`${o}-palette`]:{minHeight:e.calc(t).mul(4).equal(),overflow:"hidden",borderRadius:n},[`${o}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:r,inset:0},marginBottom:a},[`${o}-handler`]:{width:u,height:u,border:`${D(l)} solid ${s}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${r}, 0 0 0 1px ${c}`}}},co=e=>{const{componentCls:o,antCls:t,colorTextQuaternary:n,paddingXXS:r,colorPickerPresetColorSize:a,fontSizeSM:s,colorText:c,lineHeightSM:l,lineWidth:u,borderRadius:d,colorFill:g,colorWhite:v,marginXXS:p,paddingXS:x,fontHeightSM:h}=e;return{[`${o}-presets`]:{[`${t}-collapse-item > ${t}-collapse-header`]:{padding:0,[`${t}-collapse-expand-icon`]:{height:h,color:n,paddingInlineEnd:r}},[`${t}-collapse`]:{display:"flex",flexDirection:"column",gap:p},[`${t}-collapse-item > ${t}-collapse-content > ${t}-collapse-content-box`]:{padding:`${D(x)} 0`},"&-label":{fontSize:s,color:c,lineHeight:l},"&-items":{display:"flex",flexWrap:"wrap",gap:e.calc(p).mul(1.5).equal(),[`${o}-presets-color`]:{position:"relative",cursor:"pointer",width:a,height:a,"&::before":{content:'""',pointerEvents:"none",width:e.calc(a).add(e.calc(u).mul(4)).equal(),height:e.calc(a).add(e.calc(u).mul(4)).equal(),position:"absolute",top:e.calc(u).mul(-2).equal(),insetInlineStart:e.calc(u).mul(-2).equal(),borderRadius:d,border:`${D(u)} solid transparent`,transition:`border-color ${e.motionDurationMid} ${e.motionEaseInBack}`},"&:hover::before":{borderColor:g},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.calc(a).div(13).mul(5).equal(),height:e.calc(a).div(13).mul(8).equal(),border:`${D(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`},[`&${o}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:v,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`},[`&${o}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:s,color:n}}}},uo=e=>{const{componentCls:o,colorPickerInsetShadow:t,colorBgElevated:n,colorFillSecondary:r,lineWidthBold:a,colorPickerHandlerSizeSM:s,colorPickerSliderHeight:c,marginSM:l,marginXS:u}=e,d=e.calc(s).sub(e.calc(a).mul(2).equal()).equal(),g=e.calc(s).add(e.calc(a).mul(2).equal()).equal(),v={"&:after":{transform:"scale(1)",boxShadow:`${t}, 0 0 0 1px ${e.colorPrimaryActive}`}};return{[`${o}-slider`]:[ke(D(c),e.colorFillSecondary),{margin:0,padding:0,height:c,borderRadius:e.calc(c).div(2).equal(),"&-rail":{height:c,borderRadius:e.calc(c).div(2).equal(),boxShadow:t},[`& ${o}-slider-handle`]:{width:d,height:d,top:0,borderRadius:"100%","&:before":{display:"block",position:"absolute",background:"transparent",left:{_skip_check_:!0,value:"50%"},top:"50%",transform:"translate(-50%, -50%)",width:g,height:g,borderRadius:"100%"},"&:after":{width:s,height:s,border:`${D(a)} solid ${n}`,boxShadow:`${t}, 0 0 0 1px ${r}`,outline:"none",insetInlineStart:e.calc(a).mul(-1).equal(),top:e.calc(a).mul(-1).equal(),background:"transparent",transition:"none"},"&:focus":v}}],[`${o}-slider-container`]:{display:"flex",gap:l,marginBottom:l,[`${o}-slider-group`]:{flex:1,flexDirection:"column",justifyContent:"space-between",display:"flex","&-disabled-alpha":{justifyContent:"center"}}},[`${o}-gradient-slider`]:{marginBottom:u,[`& ${o}-slider-handle`]:{"&:after":{transform:"scale(0.8)"},"&-active, &:focus":v}}}},ue=(e,o,t)=>({borderInlineEndWidth:e.lineWidth,borderColor:o,boxShadow:`0 0 0 ${D(e.controlOutlineWidth)} ${t}`,outline:0}),go=e=>{const{componentCls:o}=e;return{"&-rtl":{[`${o}-presets-color`]:{"&::after":{direction:"ltr"}},[`${o}-clear`]:{"&::after":{direction:"ltr"}}}}},Oe=(e,o,t)=>{const{componentCls:n,borderRadiusSM:r,lineWidth:a,colorSplit:s,colorBorder:c,red6:l}=e;return{[`${n}-clear`]:Object.assign(Object.assign({width:o,height:o,borderRadius:r,border:`${D(a)} solid ${s}`,position:"relative",overflow:"hidden",cursor:"inherit",transition:`all ${e.motionDurationFast}`},t),{"&::after":{content:'""',position:"absolute",insetInlineEnd:e.calc(a).mul(-1).equal(),top:e.calc(a).mul(-1).equal(),display:"block",width:40,height:2,transformOrigin:"calc(100% - 1px) 1px",transform:"rotate(-45deg)",backgroundColor:l},"&:hover":{borderColor:c}})}},mo=e=>{const{componentCls:o,colorError:t,colorWarning:n,colorErrorHover:r,colorWarningHover:a,colorErrorOutline:s,colorWarningOutline:c}=e;return{[`&${o}-status-error`]:{borderColor:t,"&:hover":{borderColor:r},[`&${o}-trigger-active`]:Object.assign({},ue(e,t,s))},[`&${o}-status-warning`]:{borderColor:n,"&:hover":{borderColor:a},[`&${o}-trigger-active`]:Object.assign({},ue(e,n,c))}}},po=e=>{const{componentCls:o,controlHeightLG:t,controlHeightSM:n,controlHeight:r,controlHeightXS:a,borderRadius:s,borderRadiusSM:c,borderRadiusXS:l,borderRadiusLG:u,fontSizeLG:d}=e;return{[`&${o}-lg`]:{minWidth:t,minHeight:t,borderRadius:u,[`${o}-color-block, ${o}-clear`]:{width:r,height:r,borderRadius:s},[`${o}-trigger-text`]:{fontSize:d}},[`&${o}-sm`]:{minWidth:n,minHeight:n,borderRadius:c,[`${o}-color-block, ${o}-clear`]:{width:a,height:a,borderRadius:l},[`${o}-trigger-text`]:{lineHeight:D(a)}}}},fo=e=>{const{antCls:o,componentCls:t,colorPickerWidth:n,colorPrimary:r,motionDurationMid:a,colorBgElevated:s,colorTextDisabled:c,colorText:l,colorBgContainerDisabled:u,borderRadius:d,marginXS:g,marginSM:v,controlHeight:p,controlHeightSM:x,colorBgTextActive:h,colorPickerPresetColorSize:y,colorPickerPreviewSize:S,lineWidth:b,colorBorder:$,paddingXXS:f,fontSize:C,colorPrimaryHover:P,controlOutline:w}=e;return[{[t]:Object.assign({[`${t}-inner`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"&-content":{display:"flex",flexDirection:"column",width:n,[`& > ${o}-divider`]:{margin:`${D(v)} 0 ${D(g)}`}},[`${t}-panel`]:Object.assign({},io(e))},uo(e)),Ee(e,S)),so(e)),co(e)),Oe(e,y,{marginInlineStart:"auto"})),{[`${t}-operation`]:{display:"flex",justifyContent:"space-between",marginBottom:g}}),"&-trigger":Object.assign(Object.assign(Object.assign(Object.assign({minWidth:p,minHeight:p,borderRadius:d,border:`${D(b)} solid ${$}`,cursor:"pointer",display:"inline-flex",alignItems:"flex-start",justifyContent:"center",transition:`all ${a}`,background:s,padding:e.calc(f).sub(b).equal(),[`${t}-trigger-text`]:{marginInlineStart:g,marginInlineEnd:e.calc(g).sub(e.calc(f).sub(b)).equal(),fontSize:C,color:l,alignSelf:"center","&-cell":{"&:not(:last-child):after":{content:'", "'},"&-inactive":{color:c}}},"&:hover":{borderColor:P},[`&${t}-trigger-active`]:Object.assign({},ue(e,r,w)),"&-disabled":{color:c,background:u,cursor:"not-allowed","&:hover":{borderColor:h},[`${t}-trigger-text`]:{color:c}}},Oe(e,x)),Ee(e,x)),mo(e)),po(e))},go(e))},Ct(e,{focusElCls:`${t}-trigger-active`})]},Co=pt("ColorPicker",e=>{const{colorTextQuaternary:o,marginSM:t}=e,n=8,r=ft(e,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:24,colorPickerInsetShadow:`inset 0 0 1px 0 ${o}`,colorPickerSliderHeight:n,colorPickerPreviewSize:e.calc(n).mul(2).add(t).equal()});return[fo(r)]});var ho=function(e,o){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&o.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)o.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]]);return t};const Le=e=>{const{mode:o,value:t,defaultValue:n,format:r,defaultFormat:a,allowClear:s=!1,presets:c,children:l,trigger:u="click",open:d,disabled:g,placement:v="bottomLeft",arrow:p=!0,panelRender:x,showText:h,style:y,className:S,size:b,rootClassName:$,prefixCls:f,styles:C,disabledAlpha:P=!1,onFormatChange:w,onChange:H,onClear:L,onOpenChange:z,onChangeComplete:F,getPopupContainer:A,autoAdjustOverflow:X=!0,destroyTooltipOnHide:E,disabledFormat:R}=e,I=ho(e,["mode","value","defaultValue","format","defaultFormat","allowClear","presets","children","trigger","open","disabled","placement","arrow","panelRender","showText","style","className","size","rootClassName","prefixCls","styles","disabledAlpha","onFormatChange","onChange","onClear","onOpenChange","onChangeComplete","getPopupContainer","autoAdjustOverflow","destroyTooltipOnHide","disabledFormat"]),{getPrefixCls:N,direction:j,colorPicker:O}=m.useContext(ht),q=m.useContext(vt),ee=g??q,[re,Te]=Z(!1,{value:d,postState:M=>!ee&&M,onChange:z}),[ge,We]=Z(r,{value:r,defaultValue:a,onChange:w}),T=N("color-picker",f),[W,Be,Xe,qe,Ge]=lo(n,t,o),ae=m.useMemo(()=>de(W)<100,[W]),[Ye,me]=i.useState(null),pe=M=>{if(F){let k=V(M);P&&ae&&(k=oe(M)),F(k)}},le=(M,k)=>{let K=V(M);P&&ae&&(K=oe(K)),Be(K),me(null),H&&H(K,K.toCssString()),k||pe(K)},[fe,Ce]=i.useState(0),[Ke,Ue]=i.useState(!1),Qe=M=>{if(qe(M),M==="single"&&W.isGradient())Ce(0),le(new B(W.getColors()[0].color)),me(W);else if(M==="gradient"&&!W.isGradient()){const k=ae?oe(W):W;le(new B(Ye||[{percent:0,color:k},{percent:100,color:k}]))}},{status:Je}=i.useContext(bt),{compactSize:Ze,compactItemClassnames:et}=xt(T,j),he=St(M=>{var k;return(k=b??Ze)!==null&&k!==void 0?k:M}),ve=$t(T),[tt,ot,nt]=Co(T,ve),rt={[`${T}-rtl`]:j},be=_($,nt,ve,rt),at=_(Pt(T,Je),{[`${T}-sm`]:he==="small",[`${T}-lg`]:he==="large"},et,O==null?void 0:O.className,be,S,ot),lt=_(T,be),st={open:re,trigger:u,placement:v,arrow:p,rootClassName:$,getPopupContainer:A,autoAdjustOverflow:X,destroyTooltipOnHide:E},it=Object.assign(Object.assign({},O==null?void 0:O.style),y);return tt(i.createElement(yt,Object.assign({style:C==null?void 0:C.popup,overlayInnerStyle:C==null?void 0:C.popupOverlayInner,onOpenChange:M=>{(!M||!ee)&&Te(M)},content:i.createElement(Et,{form:!0},i.createElement(no,{mode:Xe,onModeChange:Qe,modeOptions:Ge,prefixCls:T,value:W,allowClear:s,disabled:ee,disabledAlpha:P,presets:c,panelRender:x,format:ge,onFormatChange:We,onChange:le,onChangeComplete:pe,onClear:L,activeIndex:fe,onActive:Ce,gradientDragging:Ke,onGradientDragging:Ue,disabledFormat:R})),overlayClassName:lt},st),l||i.createElement(ao,Object.assign({activeIndex:re?fe:-1,open:re,className:at,style:it,prefixCls:T,disabled:ee,showText:h,format:ge},I,{color:W}))))},vo=Ot(Le,"color-picker",e=>e,e=>Object.assign(Object.assign({},e),{placement:"bottom",autoAdjustOverflow:!1}));Le._InternalPanelDoNotUseOrYouWillBeFired=vo;export{Le as C};
