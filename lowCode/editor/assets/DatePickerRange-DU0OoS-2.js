import{r as t,j as b}from"./index-CY1Ymj4r.js";import{useFormContext as R}from"./context-lPMLs1NY.js";import{F as k}from"./index-BKDg-K48.js";import{D as E}from"./index-DOjNdDXR.js";import"./row-C5ps4gU6.js";import"./QuestionCircleOutlined-TTJW15q1.js";import"./SwapRightOutlined-CcIdOt_e.js";import"./useVariants-B4R8rkTL.js";import"./index-C1u3Ql-g.js";import"./useIcons-CYuILU2n.js";import"./DownOutlined-QYs-kCMH.js";import"./SearchOutlined-DZ2l1XJ5.js";const P=({id:c,type:i,config:r,onChange:a},v)=>{const{RangePicker:x}=E,{initValues:W}=R(),[j,l]=t.useState(!0),[D,p]=t.useState();t.useEffect(()=>{var o;const s=(o=r.props.formItem)==null?void 0:o.name,e=r.props.defaultValue;W(i,s,e)},[r.props.defaultValue]),t.useEffect(()=>{typeof r.props.formWrap.disabled=="boolean"&&p(r.props.formWrap.disabled)},[r.props.formWrap.disabled]),t.useImperativeHandle(v,()=>({show(){l(!0)},hide(){l(!1)},enable(){p(!1)},disable(){p(!0)}}));const F=s=>{const e={},{startField:o,endField:d,formItem:{name:f},formWrap:{format:I}}=r.props,[u,n]=(s==null?void 0:s.map(m=>m==null?void 0:m.format(I)))||[void 0,void 0];o&&d?(e[o]=u,e[d]=n,delete e[f]):e[f]=[u,n],a==null||a(e)};return j&&b.jsx(k.Item,{...r.props.formItem,"data-id":c,"data-type":i,children:b.jsx(x,{...r.props.formWrap,disabled:D,variant:r.props.formWrap.variant||void 0,style:r.style,onChange:F})})},J=t.forwardRef(P);export{J as default};
