import{r as c,a as S,j as e,E as x,N as y}from"./index-CY1Ymj4r.js";import{u as E,F as s}from"./index-BKDg-K48.js";import{V as T}from"./VsEditor-Bn3NW5Dw.js";import{M as V}from"./index-ClLmsWSS.js";import{R as a,C as n}from"./row-C5ps4gU6.js";import{I as j}from"./index-Du8QL6nv.js";import{T as b}from"./index-BnlvMKaU.js";import{S as i}from"./index-CUKOry-Y.js";import"./QuestionCircleOutlined-TTJW15q1.js";import"./util-UBnOudtO.js";import"./index-yDMkoRSw.js";import"./_baseGet-C1wBFXxd.js";import"./index-BpGeudkR.js";import"./index-C1u3Ql-g.js";import"./BaseInput-Bka7TPzR.js";import"./TextArea-U5uDgpR6.js";import"./useVariants-B4R8rkTL.js";import"./EyeInvisibleOutlined-DDX5Jvzv.js";import"./EyeOutlined-B6CobvGR.js";import"./SearchOutlined-DZ2l1XJ5.js";import"./DownOutlined-QYs-kCMH.js";import"./UpOutlined-Bu3BOxje.js";import"./useShowArrow-C9phI0pM.js";import"./List-CfIaGhIa.js";import"./index-DYezmHfp.js";import"./useIcons-CYuILU2n.js";const le=c.memo(u=>{const[f,h]=c.useState(!1),[m,I]=c.useState(0),[o]=E(),{selectedElement:l,elementsMap:v,editTableProps:g,editEvents:C}=S(t=>({selectedElement:t.selectedElement,elementsMap:t.page.pageData.elementsMap,editTableProps:t.editTableProps,editEvents:t.editEvents}));c.useImperativeHandle(u.columnRef,()=>({open(t){const p=v[l==null?void 0:l.id].config.props.items[t],r=p.render||`function render(text,record) {
    return text;
}`;o.resetFields(),o.setFieldsValue({span:1,type:"text",...p,render:r}),I(t),h(!0)}}));const N=()=>{o.validateFields().then(()=>{const t=o.getFieldsValue(),d=v[l==null?void 0:l.id],p=y(`ClickItem${t.name}`);t.clickable?t.eventName=t.eventName||p:t.eventName="",g({id:l==null?void 0:l.id,type:"items",index:m,props:{...t,key:t.dataIndex||m}});let r=d.events;const k=d.config.props.items[m].eventName;r=r.filter(F=>F.value!=k),t.clickable&&r.push({name:`${t.label}点击事件`,value:t.eventName||p}),C({id:d.id,events:r}),u.update(t,m),h(!1)})},O=()=>{h(!1)};return e.jsx(V,{title:"描述项设置",open:f,onOk:N,onCancel:O,width:800,children:e.jsxs(s,{form:o,labelCol:{span:8},wrapperCol:{span:14},children:[e.jsxs(a,{children:[e.jsx(n,{span:12,children:e.jsx(s.Item,{label:"标题",name:"label",rules:[{required:!0,message:"请输入项名称"}],children:e.jsx(j,{})})}),e.jsx(n,{span:12,children:e.jsx(s.Item,{label:"字段",name:"name",rules:[{required:!0,message:"请输入项字段"}],children:e.jsx(j,{})})})]}),e.jsxs(a,{children:[e.jsx(n,{span:12,children:e.jsx(s.Item,{label:"跨列数",name:"span",children:e.jsx(b,{})})}),e.jsx(n,{span:12,children:e.jsx(s.Item,{label:"列类型",name:"type",children:e.jsxs(i,{children:[e.jsx(i.Option,{value:"text",children:"文本"}),e.jsx(i.Option,{value:"image",children:"图片"}),e.jsx(i.Option,{value:"date1",children:"日期-不含时分秒"}),e.jsx(i.Option,{value:"date2",children:"日期-包含时分秒"}),e.jsx(i.Option,{value:"money",children:"金额千分位"}),e.jsx(i.Option,{value:"number",children:"数字千分位"}),e.jsx(i.Option,{value:"tag",children:"标签"})]})})})]}),e.jsx(a,{children:e.jsx(n,{span:12,children:e.jsx(s.Item,{label:"字体大小",name:"fontSize",tooltip:"只有文本类生效",children:e.jsx(b,{})})})}),e.jsxs(a,{children:[e.jsx(n,{span:12,children:e.jsx(s.Item,{label:"文字提示",name:"openTooltip",tooltip:"只有文本类生效",children:e.jsx(x,{})})}),e.jsx(n,{span:12,children:e.jsx(s.Item,{label:"提示内容",name:"tipContent",tooltip:"只有文本类生效",children:e.jsx(j,{})})})]}),e.jsx(a,{children:e.jsx(n,{span:12,children:e.jsx(s.Item,{label:"超长省略",name:"ellipsis",tooltip:"省略后，会自动开启tooltip功能",children:e.jsx(x,{})})})}),e.jsxs(a,{children:[e.jsxs(n,{span:12,children:[e.jsx(s.Item,{label:"可点击",name:"clickable",tooltip:"开启后，当前列展示为可点击的link格式",children:e.jsx(x,{})}),e.jsx(s.Item,{name:"eventName",hidden:!0,children:e.jsx(j,{})})]}),e.jsx(n,{span:12,children:e.jsx(s.Item,{label:"可复制",name:"copyable",tooltip:"开启后，列增加复制功能，只对文本生效",children:e.jsx(x,{})})})]}),e.jsx(a,{children:e.jsx(n,{span:24,children:e.jsx(s.Item,{label:"自定义渲染",name:"render",labelCol:{span:4},wrapperCol:{span:21},tooltip:"通过编程的方式实现值渲染，不支持ReactNode渲染。例如：if(text === 1)return '在线'; ",children:e.jsx(T,{})})})})]})})});export{le as default};
