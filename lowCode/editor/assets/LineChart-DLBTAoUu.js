import{r as t,a as v,j as s,S as y}from"./index-CY1Ymj4r.js";import{L as S}from"./index-DCDTgQ2T.js";import"./createLoading-DlTFYMve.js";import{handleApi as b}from"./handleApi-Bz3x1xZ4.js";import"./debounce-HTNO8IKQ.js";import"./request-K5LtYnQH.js";import"./util-UBnOudtO.js";import"./index-yDMkoRSw.js";import"./_baseGet-C1wBFXxd.js";const f=({id:d,type:u,config:a,apis:j},m)=>{var n;const[c,i]=t.useState([]),[h,o]=t.useState(!0),[x,p]=t.useState(!0),L=v(e=>e.page.pageData.variableData);t.useEffect(()=>{l({})},[a.api,((n=a.api)==null?void 0:n.sourceType)=="variable"?L:""]);const l=e=>{o(!0),b(a.api,e).then(r=>{(r==null?void 0:r.code)===0&&(Array.isArray(r.data)?i(r.data):(i([]),console.error("[LineChart]数据格式错误"))),o(!1)})};return t.useImperativeHandle(m,()=>({show(){p(!0)},hide(){p(!1)},update:e=>{l(e)}})),x&&s.jsx("div",{"data-id":d,"data-type":u,style:a.style,children:s.jsx(y,{spinning:h,size:"large",wrapperClassName:"spin-loading",children:s.jsx(S,{...a.props,color:a.props.seriesField?a.props.color:a.props.color[0],data:c})})})},F=t.forwardRef(f);export{F as default};
