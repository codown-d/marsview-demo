import{r as i,a as N,j as p,B as Y,k as h}from"./index-DmOc0qNU.js";import{i as k}from"./index-C3QLbPSd.js";import{f as x,a as v}from"./util-DNkFm-j2.js";import{handleApi as w}from"./handleApi-CJLwph67.js";import{handleActionFlow as R}from"./action-CbrbshM_.js";import{L as n}from"./index-CW6BFuNZ.js";import{T as j}from"./index-DFI99UhQ.js";import{A as T}from"./index-Df3uJrKd.js";import"./AlignRightOutlined-Kg291cY_.js";import"./UsergroupAddOutlined-Bx2neJ9_.js";import"./RedoOutlined-C4rr1ZME.js";import"./SwapRightOutlined-l_ApuJtI.js";import"./CaretDownOutlined-Cvfi80LL.js";import"./FilterFilled-BYB9ZItm.js";import"./ExclamationCircleOutlined-DHCAK7Yp.js";import"./SoundOutlined-C2LYByLL.js";import"./CopyOutlined-BRIAy90h.js";import"./DeleteOutlined-BnUSKaGo.js";import"./MoreOutlined-C8o90ux3.js";import"./DoubleRightOutlined-FRvrxn3q.js";import"./DownOutlined-DnWdyoG8.js";import"./EditOutlined-D6nYSc60.js";import"./EnterOutlined-D0ebLqDC.js";import"./EyeInvisibleOutlined-Cl_PTdo5.js";import"./EyeOutlined-QFSiY36E.js";import"./PlusSquareOutlined-D0i2U-a9.js";import"./FolderOpenOutlined-Bj6jPccg.js";import"./FunctionOutlined-Dm0pzJNb.js";import"./HolderOutlined-CzOeoeCY.js";import"./InfoCircleOutlined-D9lj3ic_.js";import"./TeamOutlined-B9XPKo8Z.js";import"./NotificationOutlined-DlRBMYlM.js";import"./MinusOutlined-Cj88Lgeh.js";import"./QuestionCircleOutlined-Dza1yYuv.js";import"./SaveOutlined-Da_V74JD.js";import"./ZoomOutOutlined-IpS0JADO.js";import"./SearchOutlined-DscCkqW9.js";import"./SettingOutlined-CGW_ik-t.js";import"./SyncOutlined-D_H3wSeZ.js";import"./UpOutlined-CkYvBYD1.js";import"./WarningFilled-DrN-C8wT.js";import"./LockOutlined-COu0XHB3.js";import"./PlusOutlined-BSTEPWl7.js";import"./UserOutlined-DAUrDjKa.js";import"./index-C0E5Fhz-.js";import"./_baseGet-xRkAGEE7.js";import"./request-C0MTnMVW.js";import"./useComponentRefs-BjsmN1lJ.js";import"./extendsObject-keMuGWqj.js";import"./row-pIc0FM19.js";import"./useShowArrow-CIjY5B73.js";import"./List-BV6fBbjc.js";import"./index-wVmnK_0F.js";import"./useIcons-CLAJNkrF.js";import"./useBreakpoint-Dj2PHoq7.js";import"./useForceUpdate-Y5LXbfsE.js";import"./Pagination-B_kLQQfV.js";import"./index-DSaINUG7.js";import"./useVariants-BdxfBOl3.js";import"./index-DOHCQObp.js";const z=({id:A,type:L,config:t},D)=>{var c;const[I,l]=i.useState([]),[f,d]=i.useState(!0),S=N(e=>e.page.pageData.variableData);i.useEffect(()=>{u({})},[t.api,((c=t.api)==null?void 0:c.sourceType)=="variable"?S:""]);const u=e=>{w(t.api,e).then(r=>{(r==null?void 0:r.code)===0&&(Array.isArray(r.data)?l(r.data):(console.error("[List]","data数据格式错误，请检查"),l([])))})};i.useImperativeHandle(D,()=>({show(){d(!0)},hide(){d(!1)},update:e=>{u(e)}}));const b=e=>{var s;const r=e[(s=t.props.content)==null?void 0:s.name],o=t.props.content.type;if(!r||!o||o==="text")return r;if(o==="money")return x(r,"currency");if(o==="number")return x(r);if(o==="date1")return v(r,"YYYY-MM-DD");if(o==="date2")return v(r);if(o==="tag")return Array.isArray(r)?r.map((a,y)=>p.jsx(j,{children:a},y)):typeof r=="string"||typeof r=="number"?p.jsx(j,{children:r}):r==null?void 0:r.toString()},E=(e,r={})=>{const o=t.events.find(s=>s.eventName===e);R(o==null?void 0:o.actions,r)},m=k,M=(e,r)=>r.props.avatar&&e[r.props.avatar]?p.jsx(T,{src:e[r.props.avatar]}):r.props.useIcon&&r.props.icon&&m[e[r.props.icon]]?h.createElement(m[e[r.props.icon]]):null;return f&&p.jsx(n,{"data-id":A,"data-type":L,itemLayout:t.props.itemLayout,style:t.style,bordered:t.props.bordered,size:t.props.size,split:t.props.split,header:t.props.header?p.jsx("div",{children:t.props.header}):null,footer:t.props.footer?p.jsx("div",{children:t.props.footer}):null,dataSource:I,renderItem:e=>{var r,o,s;return p.jsxs(n.Item,{actions:((r=t.props.bulkActionList)==null?void 0:r.map((a,y)=>p.jsx(Y,{type:a.type,danger:a.danger,icon:a.icon?h.createElement(m[a.icon]):null,onClick:()=>E(a.eventName,e),children:a.text},a.eventName)))||[],children:[p.jsx(n.Item.Meta,{avatar:M(e,t),title:(o=t.props.title)!=null&&o.name?p.jsx("span",{style:{color:t.props.title.color},children:e[t.props.title.name]}):null,description:t.props.desc.name?p.jsx("span",{style:{color:t.props.desc.color},children:e[t.props.desc.name]}):null}),(s=t.props.content)!=null&&s.name?p.jsx("div",{style:{color:t.props.content.color},children:b(e)}):null]})}})},Vr=i.forwardRef(z);export{Vr as default};
