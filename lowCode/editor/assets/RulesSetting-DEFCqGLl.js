import{r as h,j as e,E as u,D as c}from"./index-DmOc0qNU.js";import{F as n}from"./index-1_6nT-oA.js";import{T as m}from"./index-o7l-rjNw.js";import{I as i}from"./index-B-YUPJxN.js";import{R as b}from"./DeleteOutlined-BnUSKaGo.js";import{R as x}from"./PlusOutlined-BSTEPWl7.js";import"./row-pIc0FM19.js";import"./QuestionCircleOutlined-Dza1yYuv.js";import"./DownOutlined-DnWdyoG8.js";import"./UpOutlined-CkYvBYD1.js";import"./BaseInput-4F0kfgVN.js";import"./useVariants-BdxfBOl3.js";import"./index-DOHCQObp.js";import"./TextArea-D7VuO_-I.js";import"./EyeInvisibleOutlined-Cl_PTdo5.js";import"./EyeOutlined-QFSiY36E.js";import"./SearchOutlined-DscCkqW9.js";const v=h.memo(({form:o,labelSpan:a})=>{const p=[{key:"required",label:"必填校验"},{key:"length",label:"长度校验"},{key:"phone",label:"手机号校验"},{key:"email",label:"邮箱校验"},{key:"idCard",label:"身份证号码校验"},{key:"site",label:"网址校验"},{key:"word",label:"纯字母校验"},{key:"number",label:"纯数字校验"},{key:"chinese",label:"纯中文校验"},{key:"wordAndNumber",label:"字母和数字校验"},{key:"numberMoney",label:"金额校验(无小数)"},{key:"floatMoney",label:"金额校验(两位小数)"},{key:"pattern",label:"自定义正则"}];return e.jsx(e.Fragment,{children:e.jsx(n.List,{name:["formItem","rules"],children:(t,{add:l,remove:g})=>e.jsxs(e.Fragment,{children:[t.map(({key:r,name:s})=>e.jsx(n.Item,{noStyle:!0,children:e.jsxs("div",{style:{position:"relative",backgroundColor:"#f5f5f5",paddingBlock:10,marginBottom:10},children:[o.getFieldValue(["formItem","rules",s,"required"])&&e.jsx(n.Item,{labelCol:{span:a||8},wrapperCol:{span:10},name:[s,"required"],label:"必填规则",children:e.jsx(u,{})}),o.getFieldValue(["formItem","rules",s,"min"])&&e.jsxs(e.Fragment,{children:[e.jsx(n.Item,{labelCol:{span:a||8},wrapperCol:{span:14},name:[s,"min"],label:"最小长度",children:e.jsx(m,{placeholder:"最小长度"})}),e.jsx(n.Item,{labelCol:{span:a||8},wrapperCol:{span:14},name:[s,"max"],label:"最大长度",children:e.jsx(m,{placeholder:"最大长度"})})]}),o.getFieldValue(["formItem","rules",s,"key"])&&e.jsx(n.Item,{labelCol:{span:a||8},wrapperCol:{span:14},name:[s,"pattern"],label:"校验规则",children:e.jsx(i,{placeholder:"eg: ^[0-9]+$"})}),e.jsx(n.Item,{labelCol:{span:a||8},wrapperCol:{span:14},name:[s,"message"],label:"错误提示",children:e.jsx(i,{placeholder:"错误提示",style:{width:"100%"}})}),e.jsx(b,{onClick:()=>g(s),style:{position:"absolute",top:10,right:8,color:"red"}})]})},"rules"+r)),e.jsx(c,{menu:{items:p,onClick:({key:r})=>{r==="required"?l({required:!0,message:"请输入内容"},t.length):r==="length"?l({min:1,max:20,message:"最小长度为1，最大长度为20"},t.length):r==="phone"?l({key:"phone",pattern:"^1[3456789]\\d{9}$",message:"请输入正确的手机号"},t.length):r==="email"?l({key:"email",pattern:"^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+\\.[a-zA-Z0-9_-]+$",message:"请输入正确的邮箱"},t.length):r==="idCard"?l({key:"idCard",pattern:"^[1-9]\\d{5}(18|19|20)\\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\\d{3}[0-9Xx]$",message:"请输入正确的身份证号码"},t.length):r==="site"?l({key:"site",pattern:"^https?:\\/\\/.*(\\.).*$",message:"请输入正确的网址"},t.length):r==="word"?l({key:"word",pattern:"^[a-zA-Z]+$",message:"只能输入英文单词"},t.length):r==="number"?l({key:"number",pattern:"^[0-9]+$",message:"只能输入数字"},t.length):r==="chinese"?l({key:"chinese",pattern:"^[一-龥]+$",message:"只能输入中文"},t.length):r==="wordAndNumber"?l({key:"wordAndNumber",pattern:"^[a-zA-Z0-9]+$",message:"只能输入英文和数字"},t.length):r==="numberMoney"?l({key:"numberMoney",pattern:"^(0|[1-9]\\d+)$",message:"请输入正整数"},t.length):r==="floatMoney"?l({key:"floatMoney",pattern:"^(0|[1-9]\\d+(\\.\\d{2})?)$",message:"请输入正确的金额，保留2位小数"},t.length):r==="pattern"&&l({key:"pattern",pattern:"",message:"请输入"},t.length)}},children:e.jsxs("a",{onClick:r=>r.preventDefault(),style:{display:"block",textAlign:"center"},children:[e.jsx(x,{})," 添加规则"]})})]})})})});export{v as default};
