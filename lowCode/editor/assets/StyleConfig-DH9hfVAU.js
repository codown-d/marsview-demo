import{r as c,j as e,ah as I,a as V,dX as B,T as $}from"./index-DmOc0qNU.js";import{u as _}from"./index-CrdplzP2.js";import{M as w}from"./ColorPicker-B3zUbB0M.js";import{I as v}from"./index-B-YUPJxN.js";import{I as h}from"./InputPx-XM4FRpVU.js";import{S as j}from"./index-DSaINUG7.js";import{F as l}from"./index-1_6nT-oA.js";import{R as f}from"./CaretDownOutlined-Cvfi80LL.js";import{R as d}from"./index-DxJl0Bxc.js";import{T as S}from"./index-o7l-rjNw.js";import{V as z}from"./VsEditor-DbAzcx7k.js";import{d as D}from"./styled-components.browser.esm-DpSOJZe5.js";import{S as P}from"./index-C-pH6dK5.js";import{a as W,R as L,b as M}from"./AlignRightOutlined-Kg291cY_.js";import"./debounce-CoSCf5Zb.js";import"./ColorPicker-CHwPjknD.js";import"./useVariants-BdxfBOl3.js";import"./index-Do4qj9dd.js";import"./index-eEpHjpWF.js";import"./index-DOHCQObp.js";import"./BaseInput-4F0kfgVN.js";import"./TextArea-D7VuO_-I.js";import"./EyeInvisibleOutlined-Cl_PTdo5.js";import"./EyeOutlined-QFSiY36E.js";import"./SearchOutlined-DscCkqW9.js";import"./useShowArrow-CIjY5B73.js";import"./List-BV6fBbjc.js";import"./index-wVmnK_0F.js";import"./useIcons-CLAJNkrF.js";import"./DownOutlined-DnWdyoG8.js";import"./row-pIc0FM19.js";import"./QuestionCircleOutlined-Dza1yYuv.js";import"./index-B5-G8EA2.js";import"./UpOutlined-CkYvBYD1.js";import"./util-DNkFm-j2.js";import"./index-C0E5Fhz-.js";import"./_baseGet-xRkAGEE7.js";import"./index-sNbwzaq7.js";const N=s=>{const[x,a]=c.useState("");c.useEffect(()=>{var n;(n=s.value)!=null&&n.startsWith("url")&&a(s.value.replace("url(","").replace(")",""))},[]);const o=n=>{if(n===""){a(""),s.onChange("");return}n.startsWith("http")?(a(n),s.onChange(`url(${n})`)):(a(`${n}`),s.onChange(n))};return e.jsx(v,{value:x,onChange:n=>o(n.target.value),placeholder:"http://xxx.png"})},G=s=>{const[x,a]=c.useState("auto"),[o,n]=c.useState(""),[m,b]=c.useState(!1);c.useEffect(()=>{s.value==="contain"||s.value==="cover"?(b(!1),n(""),a(s.value)):(b(!0),n(s.value),a("auto"))},[]);const i=p=>{p==="auto"?b(!0):(b(!1),n("")),a(p),s.onChange(p)},u=p=>{n(p),s.onChange(p)};return e.jsxs(I,{gap:3,children:[e.jsx(j,{placeholder:"请选择",value:x,onChange:i,options:[{label:"默认",value:"auto"},{label:"等比填充",value:"contain"},{label:"等比覆盖",value:"cover"}]}),m&&e.jsx(h,{value:o,placeholder:"大小",onChange:p=>u(p)})]})},X=c.memo(G),A=({form:s})=>e.jsxs(e.Fragment,{children:[e.jsx(l.Item,{name:["scopeStyle","display"],label:"布局模式",children:e.jsx(j,{options:[{label:"内联布局 inline",value:"inline"},{label:"块级布局 block",value:"block"},{label:"内联块布局 inline-block",value:"inline-block"},{label:"内联弹性布局 inline-flex",value:"inline-flex"},{label:"块级弹性布局 flex",value:"flex"},{label:"隐藏 none",value:"none"}],suffixIcon:e.jsx(f,{})})}),["inline-flex","flex"].includes(s.getFieldValue(["scopeStyle","display"]))&&e.jsxs(e.Fragment,{children:[e.jsx(l.Item,{name:["scopeStyle","flexDirection"],label:"主轴方向",children:e.jsx(j,{options:[{label:"水平",value:"row"},{label:"垂直",value:"column"},{label:"水平反转",value:"row-reverse"},{label:"垂直反转",value:"column-reverse"}],suffixIcon:e.jsx(f,{})})}),e.jsx(l.Item,{name:["scopeStyle","justifyContent"],label:"主轴对齐",children:e.jsx(j,{options:[{label:"起点对齐",value:"flex-start"},{label:"终点对齐",value:"flex-end"},{label:"居中对齐",value:"center"},{label:"两端对齐",value:"space-between"},{label:"环绕对齐",value:"space-around"},{label:"均匀对齐",value:"space-evenly"}],suffixIcon:e.jsx(f,{})})}),e.jsx(l.Item,{name:["scopeStyle","alignItems"],label:"副轴对齐",children:e.jsx(j,{options:[{label:"起点对齐",value:"flex-start"},{label:"终点对齐",value:"flex-end"},{label:"居中对齐",value:"center"},{label:"文字基线对齐",value:"baseline"},{label:"拉伸对齐",value:"stretch"}],suffixIcon:e.jsx(f,{})})}),e.jsx(l.Item,{name:["scopeStyle","flexWrap"],label:"换行方式",wrapperCol:{span:18},children:e.jsxs(d.Group,{buttonStyle:"solid",optionType:"button",children:[e.jsx(d,{value:"nowrap",children:"不换"}),e.jsx(d,{value:"wrap",children:"换行"}),e.jsx(d,{value:"wrap-reverse",children:"逆换行"})]})}),e.jsx(l.Item,{name:["scopeStyle","gap"],label:"间隙",children:e.jsx(v,{placeholder:"eg: 10px"})})]})]}),Y="_monacoEditor_16v6t_1",H="_ui_16v6t_4",O="_title_16v6t_7",k={monacoEditor:Y,ui:H,title:O},g=s=>e.jsx("h2",{className:k.title,children:s.children}),q=s=>{const[x,a]=c.useState("none"),[o,n]=c.useState("#000"),[m,b]=c.useState(0),[i,u]=c.useState(0),[p,E]=c.useState(0),[y,F]=c.useState(0);c.useEffect(()=>{var r;if(s.value==="none")return;const t=(r=s.value)==null?void 0:r.replace(/px/g,"").split(" ");t&&t.length>0&&(n(t[0]||"#000"),b(t[1]||0),u(t[2]||0),E(t[3]||0),F(t[4]||0),a(t[5]||""))},[]);const T=t=>{a(t),t==="none"?s.onChange("none"):s.onChange(`${o} ${m}px ${i}px ${p}px ${y}px ${t}`)},R=t=>{n(t),s.onChange(`${t} ${m}px ${i}px ${p}px ${y}px ${x}`)},C=(t,r)=>{t==="x"?(r||(r=0),b(r),s.onChange(`${o} ${r}px ${i}px ${p}px ${y}px ${x}`)):t==="y"?(r||(r=0),u(r),s.onChange(`${o} ${m}px ${r}px ${p}px ${y}px ${x}`)):t==="blur"?(r||(r=0),E(r),s.onChange(`${o} ${m}px ${i}px ${r}px ${y}px ${x}`)):t==="spread"&&(r||(r=0),F(r),s.onChange(`${o} ${m}px ${i}px ${p}px ${r}px ${x}`))};return e.jsxs(e.Fragment,{children:[e.jsxs(d.Group,{buttonStyle:"solid",optionType:"button",value:x,onChange:t=>T(t.target.value),children:[e.jsx(d,{value:"none",children:"无"}),e.jsx(d,{value:"",children:"外阴影"}),e.jsx(d,{value:"Inset",children:"内阴影"})]}),x==="none"?null:e.jsxs(e.Fragment,{children:[e.jsx(l.Item,{label:"颜色",style:{marginBlock:10},children:e.jsx(w,{showText:!0,allowClear:!0,value:o,onChange:t=>R(t)})}),e.jsxs(I,{gap:10,children:[e.jsx(l.Item,{label:"X轴",children:e.jsx(S,{value:m,onChange:t=>C("x",t),style:{width:"100%"},controls:!1})}),e.jsx(l.Item,{label:"Y轴",children:e.jsx(S,{value:i,onChange:t=>C("y",t),style:{width:"100%"},controls:!1})})]}),e.jsxs(I,{gap:10,children:[e.jsx(l.Item,{label:"模糊",children:e.jsx(S,{value:p,onChange:t=>C("blur",t),style:{width:"100%"},controls:!1})}),e.jsx(l.Item,{label:"扩展",children:e.jsx(S,{value:y,onChange:t=>C("spread",t),style:{width:"100%"},controls:!1})})]})]})]})},J=D.div`
  .suggest-widget {
    width: 100% !important;
    left: 0 !important;
    max-width: 500px !important;
  }
`,K=()=>{const[s,x]=c.useState(!1),a=V(),[o]=l.useForm();c.useEffect(()=>{var i;if(o.resetFields(),!a.selectedElement)o.setFieldValue("scopeCss",a.page.pageData.config.scopeCss||`/* 请在此处添加样式*/
.marsview{

}`),o.setFieldValue("scopeStyle",a.page.pageData.config.scopeStyle);else{const u=((i=a.page.pageData.elementsMap[a.selectedElement.id])==null?void 0:i.config)||{};o.setFieldValue("scopeCss",u.scopeCss||`/* 请在此处添加样式*/
.marsview{

}`),o.setFieldValue("scopeStyle",u.scopeStyle||u.style),x(!s)}},[a.selectedElement]);const{run:n}=_(()=>{m(o.getFieldsValue())},{wait:500}),m=i=>{const u=B(i.scopeCss);a.selectedElement?a.editElement({id:a.selectedElement.id,type:"style",scopeCss:i.scopeCss,scopeStyle:i.scopeStyle,style:{...i.scopeStyle,...u}}):a.savePageInfo({type:"style",scopeCss:i.scopeCss,scopeStyle:i.scopeStyle,style:{...i.scopeStyle,...u}})},b={labelCol:{span:6},wrapperCol:{span:17}};return e.jsxs(l,{className:k.ui,...b,form:o,layout:"horizontal",labelAlign:"right",onValuesChange:n,children:[e.jsx(g,{children:"自定义样式"}),e.jsx(J,{children:e.jsx(l.Item,{name:"scopeCss",noStyle:!0,children:e.jsx(z,{language:"css"})})}),e.jsx(g,{children:"基础"}),e.jsx(l.Item,{name:["scopeStyle","width"],label:"宽度",children:e.jsx(h,{})}),e.jsx(l.Item,{name:["scopeStyle","height"],label:"高度",children:e.jsx(h,{})}),e.jsx(l.Item,{name:["scopeStyle","margin"],label:"边距",children:e.jsx(v,{placeholder:"边距: 10px"})}),e.jsx(l.Item,{name:["scopeStyle","padding"],label:"填充",children:e.jsx(v,{placeholder:"填充: 10px"})}),e.jsx(l.Item,{name:["scopeStyle","opacity"],label:"透明",children:e.jsx(P,{min:0,max:1,step:.1})},"opacity"),e.jsx(g,{children:"布局"}),e.jsx(A,{form:o}),e.jsx(g,{children:"文字"}),e.jsx(l.Item,{name:["scopeStyle","fontSize"],label:"字号",children:e.jsx(h,{placeholder:"eg: 14"})}),e.jsx(l.Item,{name:["scopeStyle","lineHeight"],label:"行高",children:e.jsx(h,{placeholder:"eg: 30"})}),e.jsx(l.Item,{name:["scopeStyle","fontWeight"],label:"字重",children:e.jsx(j,{placeholder:"eg: 400",options:[{value:100,label:"100 Thin"},{value:200,label:"200 Extra Light"},{value:300,label:"300 Light"},{value:400,label:"400 Normal"},{value:500,label:"500 Medium"},{value:600,label:"600 Semi Bold"},{value:700,label:"700 Bold"},{value:800,label:"800 Extra Bold"},{value:900,label:"900 Black Bold"}],suffixIcon:e.jsx(f,{})},"fontWeight")}),e.jsx(l.Item,{name:["scopeStyle","color"],label:"颜色",children:e.jsx(w,{showText:!0,allowClear:!0})}),e.jsx(l.Item,{name:["scopeStyle","textAlign"],label:"对齐",children:e.jsxs(d.Group,{buttonStyle:"solid",optionType:"button",children:[e.jsx($,{title:"左对齐",children:e.jsx(d,{value:"left",children:e.jsx(W,{})})}),e.jsx($,{title:"居中对齐",children:e.jsx(d,{value:"center",children:e.jsx(L,{})})}),e.jsx($,{title:"右对齐",children:e.jsx(d,{value:"right",children:e.jsx(M,{})})})]})}),e.jsx(g,{children:"背景"}),e.jsx(l.Item,{name:["scopeStyle","backgroundColor"],label:"颜色",children:e.jsx(w,{})}),e.jsx(l.Item,{name:["scopeStyle","backgroundImage"],label:"图片",tooltip:"支持渐变色。图片使用时，直接输入远程地址：http(s)://xxx.png",children:e.jsx(N,{})}),e.jsx(l.Item,{name:["scopeStyle","backgroundSize"],label:"尺寸",tooltip:"默认的时候，可以手动输入尺寸",children:e.jsx(X,{})}),e.jsx(l.Item,{name:["scopeStyle","backgroundRepeat"],label:"平铺",children:e.jsx(j,{options:[{label:"不平铺",value:"no-repeat"},{label:"平铺",value:"repeat"},{label:"水平平铺",value:"repeat-x"},{label:"垂直平铺",value:"repeat-y"}],suffixIcon:e.jsx(f,{})})}),e.jsx(l.Item,{name:["scopeStyle","backgroundPosition"],label:"位置",children:e.jsx(j,{options:[{label:"top",value:"top"},{label:"bottom",value:"bottom"},{label:"left",value:"left"},{label:"right",value:"right"},{label:"center",value:"center"}],suffixIcon:e.jsx(f,{})})}),e.jsx(g,{children:"定位"}),e.jsx(l.Item,{name:["scopeStyle","position"],label:"定位",children:e.jsx(j,{placeholder:"请选择",options:[{label:"static",value:"static"},{label:"relative",value:"relative"},{label:"absolute",value:"absolute"},{label:"fixed",value:"fixed"},{label:"sticky",value:"sticky"}],suffixIcon:e.jsx(f,{})})},"position"),e.jsx(l.Item,{name:["scopeStyle","zIndex"],label:"zIndex",children:e.jsx(S,{placeholder:"层级"})},"zIndex"),!["",void 0,"static"].includes(o.getFieldValue(["scopeStyle","position"]))&&e.jsxs(l.Item,{label:"位置",children:[e.jsxs(I,{gap:3,children:[e.jsx(l.Item,{name:["scopeStyle","top"],noStyle:!0,children:e.jsx(h,{placeholder:"T: 10"})}),e.jsx(l.Item,{name:["scopeStyle","right"],noStyle:!0,children:e.jsx(h,{placeholder:"R: 10"})})]}),e.jsxs(I,{gap:3,style:{marginTop:10},children:[e.jsx(l.Item,{name:["scopeStyle","bottom"],noStyle:!0,children:e.jsx(h,{placeholder:"B: 10"})}),e.jsx(l.Item,{name:["scopeStyle","left"],noStyle:!0,children:e.jsx(h,{placeholder:"L: 10"})})]})]}),e.jsx(l.Item,{name:["scopeStyle","overflow"],label:"溢出",children:e.jsx(j,{placeholder:"请选择",options:[{label:"默认",value:"auto"},{label:"可见",value:"visible"},{label:"超出隐藏",value:"hidden"},{label:"超出滚动",value:"scroll"}],suffixIcon:e.jsx(f,{})})},"overflow"),e.jsx(g,{children:"边框"}),e.jsx(l.Item,{name:["scopeStyle","borderRadius"],label:"圆角",children:e.jsx(h,{placeholder:"eg：5"})}),e.jsx(l.Item,{name:["scopeStyle","border"],label:"边框",children:e.jsx(v,{placeholder:"eg：1px solid #fff"})}),e.jsx(l.Item,{label:"阴影",name:["scopeStyle","boxShadow"],children:e.jsx(q,{})})]})},ze=c.memo(K);export{ze as default};
