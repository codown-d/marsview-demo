import{r as i,ar as ye,ap as A,ay as me,k as w,bn as je,w as Ce,ao as D,bi as he,a5 as Me,aa as ze,p as F,au as ve,U as be,V as De,C as Le,aE as Be,b6 as He,be as ke,t as Ke}from"./index-DmOc0qNU.js";import{B as We,r as Se,t as Ye}from"./BaseInput-4F0kfgVN.js";import{u as Ze,g as Ge,a as Ue}from"./useVariants-BdxfBOl3.js";import{u as Xe}from"./index-DOHCQObp.js";var qe=["show"];function Je(e,o){return i.useMemo(function(){var t={};o&&(t.show=ye(o)==="object"&&o.formatter?o.formatter:!!o),t=A(A({},t),e);var a=t,s=a.show,f=me(a,qe);return A(A({},f),{},{show:!!s,showFormatter:typeof s=="function"?s:void 0,strategy:f.strategy||function(l){return l.length}})},[e,o])}const Qe=e=>{let o;return typeof e=="object"&&(e!=null&&e.clearIcon)?o=e:e&&(o={clearIcon:w.createElement(je,null)}),o};var et=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,tt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],ue={},C;function at(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(o&&ue[t])return ue[t];var a=window.getComputedStyle(e),s=a.getPropertyValue("box-sizing")||a.getPropertyValue("-moz-box-sizing")||a.getPropertyValue("-webkit-box-sizing"),f=parseFloat(a.getPropertyValue("padding-bottom"))+parseFloat(a.getPropertyValue("padding-top")),l=parseFloat(a.getPropertyValue("border-bottom-width"))+parseFloat(a.getPropertyValue("border-top-width")),v=tt.map(function(m){return"".concat(m,":").concat(a.getPropertyValue(m))}).join(";"),z={sizingStyle:v,paddingSize:f,borderSize:l,boxSizing:s};return o&&t&&(ue[t]=z),z}function nt(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;C||(C=document.createElement("textarea"),C.setAttribute("tab-index","-1"),C.setAttribute("aria-hidden","true"),C.setAttribute("name","hiddenTextarea"),document.body.appendChild(C)),e.getAttribute("wrap")?C.setAttribute("wrap",e.getAttribute("wrap")):C.removeAttribute("wrap");var s=at(e,o),f=s.paddingSize,l=s.borderSize,v=s.boxSizing,z=s.sizingStyle;C.setAttribute("style","".concat(z,";").concat(et)),C.value=e.value||e.placeholder||"";var m=void 0,d=void 0,R,h=C.scrollHeight;if(v==="border-box"?h+=l:v==="content-box"&&(h-=f),t!==null||a!==null){C.value=" ";var $=C.scrollHeight-f;t!==null&&(m=$*t,v==="border-box"&&(m=m+f+l),h=Math.max(m,h)),a!==null&&(d=$*a,v==="border-box"&&(d=d+f+l),R=h>d?"":"hidden",h=Math.min(d,h))}var g={height:h,overflowY:R,resize:"none"};return m&&(g.minHeight=m),d&&(g.maxHeight=d),g}var rt=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],de=0,ce=1,fe=2,ot=i.forwardRef(function(e,o){var t=e,a=t.prefixCls,s=t.defaultValue,f=t.value,l=t.autoSize,v=t.onResize,z=t.className,m=t.style,d=t.disabled,R=t.onChange;t.onInternalAutoSize;var h=me(t,rt),$=Ce(s,{value:f,postState:function(y){return y??""}}),g=D($,2),L=g[0],U=g[1],X=function(y){U(y.target.value),R==null||R(y)},b=i.useRef();i.useImperativeHandle(o,function(){return{textArea:b.current}});var n=i.useMemo(function(){return l&&ye(l)==="object"?[l.minRows,l.maxRows]:[]},[l]),O=D(n,2),p=O[0],E=O[1],V=!!l,q=function(){try{if(document.activeElement===b.current){var y=b.current,ee=y.selectionStart,ae=y.selectionEnd,ne=y.scrollTop;b.current.setSelectionRange(ee,ae),b.current.scrollTop=ne}}catch{}},W=i.useState(fe),B=D(W,2),S=B[0],u=B[1],Y=i.useState(),Z=D(Y,2),H=Z[0],k=Z[1],K=function(){u(de)};he(function(){V&&K()},[f,p,E,V]),he(function(){if(S===de)u(ce);else if(S===ce){var x=nt(b.current,!1,p,E);u(fe),k(x)}else q()},[S]);var P=i.useRef(),G=function(){be.cancel(P.current)},_=function(y){S===fe&&(v==null||v(y),l&&(G(),P.current=be(function(){K()})))};i.useEffect(function(){return G},[]);var T=V?H:null,I=A(A({},m),T);return(S===de||S===ce)&&(I.overflowY="hidden",I.overflowX="hidden"),i.createElement(Me,{onResize:_,disabled:!(l||v)},i.createElement("textarea",ze({},h,{ref:b,style:I,className:F(a,z,ve({},"".concat(a,"-disabled"),d)),disabled:d,value:L,onChange:X})))}),st=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],it=w.forwardRef(function(e,o){var t,a=e.defaultValue,s=e.value,f=e.onFocus,l=e.onBlur,v=e.onChange,z=e.allowClear,m=e.maxLength,d=e.onCompositionStart,R=e.onCompositionEnd,h=e.suffix,$=e.prefixCls,g=$===void 0?"rc-textarea":$,L=e.showCount,U=e.count,X=e.className,b=e.style,n=e.disabled,O=e.hidden,p=e.classNames,E=e.styles,V=e.onResize,q=e.onClear,W=e.onPressEnter,B=e.readOnly,S=e.autoSize,u=e.onKeyDown,Y=me(e,st),Z=Ce(a,{value:s,defaultValue:a}),H=D(Z,2),k=H[0],K=H[1],P=k==null?"":String(k),G=w.useState(!1),_=D(G,2),T=_[0],I=_[1],x=w.useRef(!1),y=w.useState(null),ee=D(y,2),ae=ee[0],ne=ee[1],re=i.useRef(null),oe=i.useRef(null),j=function(){var r;return(r=oe.current)===null||r===void 0?void 0:r.textArea},ge=function(){j().focus()};i.useImperativeHandle(o,function(){var c;return{resizableTextArea:oe.current,focus:ge,blur:function(){j().blur()},nativeElement:((c=re.current)===null||c===void 0?void 0:c.nativeElement)||j()}}),i.useEffect(function(){I(function(c){return!n&&c})},[n]);var Re=w.useState(null),pe=D(Re,2),se=pe[0],we=pe[1];w.useEffect(function(){if(se){var c;(c=j()).setSelectionRange.apply(c,De(se))}},[se]);var N=Je(U,L),J=(t=N.max)!==null&&t!==void 0?t:m,Ae=Number(J)>0,ie=N.strategy(P),Ee=!!J&&ie>J,xe=function(r,M){var te=M;!x.current&&N.exceedFormatter&&N.max&&N.strategy(M)>N.max&&(te=N.exceedFormatter(M,{max:N.max}),M!==te&&we([j().selectionStart||0,j().selectionEnd||0])),K(te),Se(r.currentTarget,r,v,te)},Ie=function(r){x.current=!0,d==null||d(r)},Ne=function(r){x.current=!1,xe(r,r.currentTarget.value),R==null||R(r)},$e=function(r){xe(r,r.target.value)},Oe=function(r){r.key==="Enter"&&W&&W(r),u==null||u(r)},Ve=function(r){I(!0),f==null||f(r)},Te=function(r){I(!1),l==null||l(r)},Fe=function(r){K(""),ge(),Se(j(),r,v)},le=h,Q;N.show&&(N.showFormatter?Q=N.showFormatter({value:P,count:ie,maxLength:J}):Q="".concat(ie).concat(Ae?" / ".concat(J):""),le=w.createElement(w.Fragment,null,le,w.createElement("span",{className:F("".concat(g,"-data-count"),p==null?void 0:p.count),style:E==null?void 0:E.count},Q)));var Pe=function(r){var M;V==null||V(r),(M=j())!==null&&M!==void 0&&M.style.height&&ne(!0)},_e=!S&&!L&&!z;return w.createElement(We,{ref:re,value:P,allowClear:z,handleReset:Fe,suffix:le,prefixCls:g,classNames:A(A({},p),{},{affixWrapper:F(p==null?void 0:p.affixWrapper,ve(ve({},"".concat(g,"-show-count"),L),"".concat(g,"-textarea-allow-clear"),z))}),disabled:n,focused:T,className:F(X,Ee&&"".concat(g,"-out-of-range")),style:A(A({},b),ae&&!_e?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof Q=="string"?Q:void 0}},hidden:O,readOnly:B,onClear:q},w.createElement(ot,ze({},Y,{autoSize:S,maxLength:m,onKeyDown:Oe,onChange:$e,onFocus:Ve,onBlur:Te,onCompositionStart:Ie,onCompositionEnd:Ne,className:F(p==null?void 0:p.textarea),style:A(A({},E==null?void 0:E.textarea),{},{resize:b==null?void 0:b.resize}),disabled:n,prefixCls:g,onResize:Pe,ref:oe,readOnly:B})))}),lt=function(e,o){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&o.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)o.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(t[a[s]]=e[a[s]]);return t};const vt=i.forwardRef((e,o)=>{var t,a;const{prefixCls:s,bordered:f=!0,size:l,disabled:v,status:z,allowClear:m,classNames:d,rootClassName:R,className:h,style:$,styles:g,variant:L}=e,U=lt(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]),{getPrefixCls:X,direction:b,textArea:n}=i.useContext(Le),O=Be(l),p=i.useContext(He),E=v??p,{status:V,hasFeedback:q,feedbackIcon:W}=i.useContext(ke),B=Ue(V,z),S=i.useRef(null);i.useImperativeHandle(o,()=>{var _;return{resizableTextArea:(_=S.current)===null||_===void 0?void 0:_.resizableTextArea,focus:T=>{var I,x;Ye((x=(I=S.current)===null||I===void 0?void 0:I.resizableTextArea)===null||x===void 0?void 0:x.textArea,T)},blur:()=>{var T;return(T=S.current)===null||T===void 0?void 0:T.blur()}}});const u=X("input",s),Y=Ke(u),[Z,H,k]=Xe(u,Y),[K,P]=Ze("textArea",L,f),G=Qe(m??(n==null?void 0:n.allowClear));return Z(i.createElement(it,Object.assign({autoComplete:n==null?void 0:n.autoComplete},U,{style:Object.assign(Object.assign({},n==null?void 0:n.style),$),styles:Object.assign(Object.assign({},n==null?void 0:n.styles),g),disabled:E,allowClear:G,className:F(k,Y,h,R,n==null?void 0:n.className),classNames:Object.assign(Object.assign(Object.assign({},d),n==null?void 0:n.classNames),{textarea:F({[`${u}-sm`]:O==="small",[`${u}-lg`]:O==="large"},H,d==null?void 0:d.textarea,(t=n==null?void 0:n.classNames)===null||t===void 0?void 0:t.textarea),variant:F({[`${u}-${K}`]:P},Ge(u,B)),affixWrapper:F(`${u}-textarea-affix-wrapper`,{[`${u}-affix-wrapper-rtl`]:b==="rtl",[`${u}-affix-wrapper-sm`]:O==="small",[`${u}-affix-wrapper-lg`]:O==="large",[`${u}-textarea-show-count`]:e.showCount||((a=e.count)===null||a===void 0?void 0:a.show)},H)}),prefixCls:u,suffix:q&&i.createElement("span",{className:`${u}-textarea-suffix`},W),ref:S})))});export{vt as T,it as a,Qe as g,Je as u};
