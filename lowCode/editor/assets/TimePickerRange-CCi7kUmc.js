import{r as t,f as I,j as W}from"./index-DmOc0qNU.js";import{i as R}from"./util-DNkFm-j2.js";import{useFormContext as T}from"./context-CwFBKCg9.js";import{F as k}from"./index-1_6nT-oA.js";import{T as y}from"./index-KkE6TN4K.js";import"./index-C0E5Fhz-.js";import"./_baseGet-xRkAGEE7.js";import"./row-pIc0FM19.js";import"./QuestionCircleOutlined-Dza1yYuv.js";import"./index-BIB-vVSn.js";import"./SwapRightOutlined-l_ApuJtI.js";import"./useVariants-BdxfBOl3.js";import"./index-DOHCQObp.js";import"./useIcons-CLAJNkrF.js";import"./DownOutlined-DnWdyoG8.js";import"./SearchOutlined-DscCkqW9.js";const V=({id:x,type:f,config:r,onChange:m},j)=>{const{initValues:v}=T(),[P,u]=t.useState(!0),[h,i]=t.useState(r.props.formWrap.disabled);t.useEffect(()=>{var s;const o=(s=r.props.formItem)==null?void 0:s.name,e=r.props.defaultValue;if(o&&R(e)){const a=r.props.formWrap.format||"HH:mm:ss",p=e.split(",").map(l=>I(l,a));v(f,o,p)}},[r.props.defaultValue]),t.useEffect(()=>{i(r.props.formWrap.disabled)},[r.props.formWrap.disabled]),t.useImperativeHandle(j,()=>({show(){u(!0)},hide(){u(!1)},enable(){i(!1)},disable(){i(!0)}}));const E=o=>{const e={},{startField:s,endField:a,formItem:{name:p},formWrap:{format:l}}=r.props,[c,b]=o.map(d=>d==null?void 0:d.format(l));s&&a?(e[s]=c,e[a]=b,delete e[p]):e[p]=[c,b],m==null||m(e)},{startPlaceholder:n,endPlaceholder:F}=r.props.formWrap;return P&&W.jsx(k.Item,{...r.props.formItem,"data-id":x,"data-type":f,children:W.jsx(y.RangePicker,{...r.props.formWrap,placeholder:n&&[n,F],disabled:h,variant:r.props.formWrap.variant||void 0,style:r.style,onChange:E})})},U=t.forwardRef(V);export{U as default};
