import{r as t,f as I,j as W}from"./index-CY1Ymj4r.js";import{i as R}from"./util-UBnOudtO.js";import{useFormContext as T}from"./context-lPMLs1NY.js";import{F as k}from"./index-BKDg-K48.js";import{T as y}from"./index-Cvc_fY4H.js";import"./index-yDMkoRSw.js";import"./_baseGet-C1wBFXxd.js";import"./row-C5ps4gU6.js";import"./QuestionCircleOutlined-TTJW15q1.js";import"./index-DOjNdDXR.js";import"./SwapRightOutlined-CcIdOt_e.js";import"./useVariants-B4R8rkTL.js";import"./index-C1u3Ql-g.js";import"./useIcons-CYuILU2n.js";import"./DownOutlined-QYs-kCMH.js";import"./SearchOutlined-DZ2l1XJ5.js";const V=({id:x,type:f,config:r,onChange:m},j)=>{const{initValues:v}=T(),[P,u]=t.useState(!0),[h,i]=t.useState(r.props.formWrap.disabled);t.useEffect(()=>{var s;const o=(s=r.props.formItem)==null?void 0:s.name,e=r.props.defaultValue;if(o&&R(e)){const a=r.props.formWrap.format||"HH:mm:ss",p=e.split(",").map(l=>I(l,a));v(f,o,p)}},[r.props.defaultValue]),t.useEffect(()=>{i(r.props.formWrap.disabled)},[r.props.formWrap.disabled]),t.useImperativeHandle(j,()=>({show(){u(!0)},hide(){u(!1)},enable(){i(!1)},disable(){i(!0)}}));const E=o=>{const e={},{startField:s,endField:a,formItem:{name:p},formWrap:{format:l}}=r.props,[c,b]=o.map(d=>d==null?void 0:d.format(l));s&&a?(e[s]=c,e[a]=b,delete e[p]):e[p]=[c,b],m==null||m(e)},{startPlaceholder:n,endPlaceholder:F}=r.props.formWrap;return P&&W.jsx(k.Item,{...r.props.formItem,"data-id":x,"data-type":f,children:W.jsx(y.RangePicker,{...r.props.formWrap,placeholder:n&&[n,F],disabled:h,variant:r.props.formWrap.variant||void 0,style:r.style,onChange:E})})},U=t.forwardRef(V);export{U as default};
