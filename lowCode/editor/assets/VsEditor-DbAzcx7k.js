import{a as p,r as i,j as g}from"./index-DmOc0qNU.js";import{i as f}from"./util-DNkFm-j2.js";import{L as b,l as v,F as x}from"./index-sNbwzaq7.js";function P({height:a,language:s,value:o,onChange:m}){const l=p(e=>e.theme),t=b(),u=i.useRef(null);i.useEffect(()=>{t==null||t.languages.registerCompletionItemProvider("javascript",{provideCompletionItems:function(e,n){const r=e.getWordUntilPosition(n),d={startLineNumber:n.lineNumber,endLineNumber:n.lineNumber,startColumn:r.startColumn,endColumn:r.endColumn};return{suggestions:c(d)}}})},[t]);function c(e){return t?[{label:"context",kind:t.languages.CompletionItemKind.Function,documentation:"context是一个全局上下文变量",insertText:"context",range:e},{label:"variable",kind:t.languages.CompletionItemKind.Function,documentation:"variable是一个系统变量",insertText:"variable",range:e},{label:"eventParams",kind:t.languages.CompletionItemKind.Function,documentation:"eventParams是事件流参数",insertText:"eventParams",range:e}]:[]}return v.config({paths:{vs:"/static/monaco-editor/vs"}}),g.jsx(x,{height:a||"150px",language:s||"javascript",theme:l==="dark"?"vs-dark":"vs-light",value:f(o)?typeof o=="string"?o:JSON.stringify(o,null,2):"",onChange:m,onMount:(e,n)=>{u.current={editor:e,monaco:n}},options:{lineNumbers:"on",minimap:{enabled:!1}}})}export{P as V};
