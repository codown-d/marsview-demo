import{k as X,r as a,C as L,be as J,b6 as Q,o as U,t as T,p as A,dv as Y,cs as Z,a2 as ee,V as D}from"./index-DmOc0qNU.js";import{C as te}from"./index-B5-G8EA2.js";import{u as q}from"./index-B2mTmS5H.js";const z=X.createContext(null);var se=function(l,d){var o={};for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&d.indexOf(t)<0&&(o[t]=l[t]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(l);n<t.length;n++)d.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(l,t[n])&&(o[t[n]]=l[t[n]]);return o};const ae=(l,d)=>{var o;const{prefixCls:t,className:n,rootClassName:S,children:C,indeterminate:x=!1,style:N,onMouseEnter:g,onMouseLeave:c,skipGroup:y=!1,disabled:P}=l,r=se(l,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:O,direction:w,checkbox:f}=a.useContext(L),s=a.useContext(z),{isFormItemInput:j}=a.useContext(J),_=a.useContext(Q),h=(o=(s==null?void 0:s.disabled)||P)!==null&&o!==void 0?o:_,v=a.useRef(r.value),m=a.useRef(null),k=U(d,m);a.useEffect(()=>{s==null||s.registerValue(r.value)},[]),a.useEffect(()=>{if(!y)return r.value!==v.current&&(s==null||s.cancelValue(v.current),s==null||s.registerValue(r.value),v.current=r.value),()=>s==null?void 0:s.cancelValue(r.value)},[r.value]),a.useEffect(()=>{var u;!((u=m.current)===null||u===void 0)&&u.input&&(m.current.input.indeterminate=x)},[x]);const i=O("checkbox",t),V=T(i),[I,E,$]=q(i,V),p=Object.assign({},r);s&&!y&&(p.onChange=function(){r.onChange&&r.onChange.apply(r,arguments),s.toggleOption&&s.toggleOption({label:C,value:r.value})},p.name=s.name,p.checked=s.value.includes(r.value));const R=A(`${i}-wrapper`,{[`${i}-rtl`]:w==="rtl",[`${i}-wrapper-checked`]:p.checked,[`${i}-wrapper-disabled`]:h,[`${i}-wrapper-in-form-item`]:j},f==null?void 0:f.className,n,S,$,V,E),e=A({[`${i}-indeterminate`]:x},Y,E);return I(a.createElement(Z,{component:"Checkbox",disabled:h},a.createElement("label",{className:R,style:Object.assign(Object.assign({},f==null?void 0:f.style),N),onMouseEnter:g,onMouseLeave:c},a.createElement(te,Object.assign({},p,{prefixCls:i,className:e,disabled:h,ref:k})),C!==void 0&&a.createElement("span",null,C))))},B=a.forwardRef(ae);var le=function(l,d){var o={};for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&d.indexOf(t)<0&&(o[t]=l[t]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(l);n<t.length;n++)d.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(l,t[n])&&(o[t[n]]=l[t[n]]);return o};const ne=a.forwardRef((l,d)=>{const{defaultValue:o,children:t,options:n=[],prefixCls:S,className:C,rootClassName:x,style:N,onChange:g}=l,c=le(l,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:y,direction:P}=a.useContext(L),[r,O]=a.useState(c.value||o||[]),[w,f]=a.useState([]);a.useEffect(()=>{"value"in c&&O(c.value||[])},[c.value]);const s=a.useMemo(()=>n.map(e=>typeof e=="string"||typeof e=="number"?{label:e,value:e}:e),[n]),j=e=>{f(u=>u.filter(b=>b!==e))},_=e=>{f(u=>[].concat(D(u),[e]))},h=e=>{const u=r.indexOf(e.value),b=D(r);u===-1?b.push(e.value):b.splice(u,1),"value"in c||O(b),g==null||g(b.filter(G=>w.includes(G)).sort((G,H)=>{const K=s.findIndex(M=>M.value===G),W=s.findIndex(M=>M.value===H);return K-W}))},v=y("checkbox",S),m=`${v}-group`,k=T(v),[i,V,I]=q(v,k),E=ee(c,["value","disabled"]),$=n.length?s.map(e=>a.createElement(B,{prefixCls:v,key:e.value.toString(),disabled:"disabled"in e?e.disabled:c.disabled,value:e.value,checked:r.includes(e.value),onChange:e.onChange,className:`${m}-item`,style:e.style,title:e.title,id:e.id,required:e.required},e.label)):t,p={toggleOption:h,value:r,disabled:c.disabled,name:c.name,registerValue:_,cancelValue:j},R=A(m,{[`${m}-rtl`]:P==="rtl"},C,x,I,k,V);return i(a.createElement("div",Object.assign({className:R,style:N},E,{ref:d}),a.createElement(z.Provider,{value:p},$)))}),F=B;F.Group=ne;F.__ANT_CHECKBOX=!0;export{F as C};
