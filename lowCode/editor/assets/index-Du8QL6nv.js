import{r as o,ay as Te,ao as de,w as Me,V as Se,k as H,aa as pe,p as U,a2 as we,au as ge,ap as De,C as re,be as ae,t as Oe,bz as Ee,aE as me,b6 as Pe,o as ve,bA as Ce,Z as Ve,$ as Ke,U as Ue,bB as Le,x as ye,ad as be,B as Xe}from"./index-CY1Ymj4r.js";import{u as Ie,i as He,a as We}from"./index-C1u3Ql-g.js";import{B as Ge,t as qe,r as he}from"./BaseInput-Bka7TPzR.js";import{u as Ze,g as Je,T as Qe}from"./TextArea-U5uDgpR6.js";import{u as Ye,g as xe,a as Re}from"./useVariants-B4R8rkTL.js";import{R as et}from"./EyeInvisibleOutlined-DDX5Jvzv.js";import{R as tt}from"./EyeOutlined-B6CobvGR.js";import{R as nt}from"./SearchOutlined-DZ2l1XJ5.js";var ot=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],st=o.forwardRef(function(e,a){var s=e.autoComplete,t=e.onChange,n=e.onFocus,m=e.onBlur,y=e.onPressEnter,g=e.onKeyDown,w=e.onKeyUp,P=e.prefixCls,b=P===void 0?"rc-input":P,C=e.disabled,M=e.htmlSize,D=e.className,x=e.maxLength,E=e.suffix,L=e.showCount,X=e.count,_=e.type,$=_===void 0?"text":_,A=e.classes,B=e.classNames,O=e.styles,j=e.onCompositionStart,i=e.onCompositionEnd,v=Te(e,ot),F=o.useState(!1),N=de(F,2),k=N[0],T=N[1],R=o.useRef(!1),I=o.useRef(!1),h=o.useRef(null),V=o.useRef(null),W=function(c){h.current&&qe(h.current,c)},Q=Me(e.defaultValue,{value:e.value}),f=de(Q,2),p=f[0],K=f[1],J=p==null?"":String(p),r=o.useState(null),u=de(r,2),d=u[0],G=u[1],l=Ze(X,L),q=l.max||x,te=l.strategy(J),ie=!!q&&te>q;o.useImperativeHandle(a,function(){var S;return{focus:W,blur:function(){var z;(z=h.current)===null||z===void 0||z.blur()},setSelectionRange:function(z,se,ee){var Y;(Y=h.current)===null||Y===void 0||Y.setSelectionRange(z,se,ee)},select:function(){var z;(z=h.current)===null||z===void 0||z.select()},input:h.current,nativeElement:((S=V.current)===null||S===void 0?void 0:S.nativeElement)||h.current}}),o.useEffect(function(){T(function(S){return S&&C?!1:S})},[C]);var ne=function(c,z,se){var ee=z;if(!R.current&&l.exceedFormatter&&l.max&&l.strategy(z)>l.max){if(ee=l.exceedFormatter(z,{max:l.max}),z!==ee){var Y,fe;G([((Y=h.current)===null||Y===void 0?void 0:Y.selectionStart)||0,((fe=h.current)===null||fe===void 0?void 0:fe.selectionEnd)||0])}}else if(se.source==="compositionEnd")return;K(ee),h.current&&he(h.current,c,t,ee)};o.useEffect(function(){if(d){var S;(S=h.current)===null||S===void 0||S.setSelectionRange.apply(S,Se(d))}},[d]);var Z=function(c){ne(c,c.target.value,{source:"change"})},oe=function(c){R.current=!1,ne(c,c.currentTarget.value,{source:"compositionEnd"}),i==null||i(c)},$e=function(c){y&&c.key==="Enter"&&!I.current&&(I.current=!0,y(c)),g==null||g(c)},je=function(c){c.key==="Enter"&&(I.current=!1),w==null||w(c)},Ne=function(c){T(!0),n==null||n(c)},ze=function(c){T(!1),m==null||m(c)},Ae=function(c){K(""),W(),h.current&&he(h.current,c,t)},Fe=ie&&"".concat(b,"-out-of-range"),ke=function(){var c=we(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return H.createElement("input",pe({autoComplete:s},c,{onChange:Z,onFocus:Ne,onBlur:ze,onKeyDown:$e,onKeyUp:je,className:U(b,ge({},"".concat(b,"-disabled"),C),B==null?void 0:B.input),style:O==null?void 0:O.input,ref:h,size:M,type:$,onCompositionStart:function(se){R.current=!0,j==null||j(se)},onCompositionEnd:oe}))},Be=function(){var c=Number(q)>0;if(E||l.show){var z=l.showFormatter?l.showFormatter({value:J,count:te,maxLength:q}):"".concat(te).concat(c?" / ".concat(q):"");return H.createElement(H.Fragment,null,l.show&&H.createElement("span",{className:U("".concat(b,"-show-count-suffix"),ge({},"".concat(b,"-show-count-has-suffix"),!!E),B==null?void 0:B.count),style:De({},O==null?void 0:O.count)},z),E)}return null};return H.createElement(Ge,pe({},v,{prefixCls:b,className:U(D,Fe),handleReset:Ae,value:J,focused:k,triggerFocus:W,suffix:Be(),disabled:C,classes:A,classNames:B,styles:O}),ke())});const at=e=>{const{getPrefixCls:a,direction:s}=o.useContext(re),{prefixCls:t,className:n}=e,m=a("input-group",t),y=a("input"),[g,w]=Ie(y),P=U(m,{[`${m}-lg`]:e.size==="large",[`${m}-sm`]:e.size==="small",[`${m}-compact`]:e.compact,[`${m}-rtl`]:s==="rtl"},w,n),b=o.useContext(ae),C=o.useMemo(()=>Object.assign(Object.assign({},b),{isFormItemInput:!1}),[b]);return g(o.createElement("span",{className:P,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},o.createElement(ae.Provider,{value:C},e.children)))};function _e(e,a){const s=o.useRef([]),t=()=>{s.current.push(setTimeout(()=>{var n,m,y,g;!((n=e.current)===null||n===void 0)&&n.input&&((m=e.current)===null||m===void 0?void 0:m.input.getAttribute("type"))==="password"&&(!((y=e.current)===null||y===void 0)&&y.input.hasAttribute("value"))&&((g=e.current)===null||g===void 0||g.input.removeAttribute("value"))}))};return o.useEffect(()=>(a&&t(),()=>s.current.forEach(n=>{n&&clearTimeout(n)})),[]),t}function rt(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}var lt=function(e,a){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const ce=o.forwardRef((e,a)=>{var s;const{prefixCls:t,bordered:n=!0,status:m,size:y,disabled:g,onBlur:w,onFocus:P,suffix:b,allowClear:C,addonAfter:M,addonBefore:D,className:x,style:E,styles:L,rootClassName:X,onChange:_,classNames:$,variant:A}=e,B=lt(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:O,direction:j,input:i}=H.useContext(re),v=O("input",t),F=o.useRef(null),N=Oe(v),[k,T,R]=Ie(v,N),{compactSize:I,compactItemClassnames:h}=Ee(v,j),V=me(Z=>{var oe;return(oe=y??I)!==null&&oe!==void 0?oe:Z}),W=H.useContext(Pe),Q=g??W,{status:f,hasFeedback:p,feedbackIcon:K}=o.useContext(ae),J=Re(f,m),r=rt(e)||!!p;o.useRef(r);const u=_e(F,!0),d=Z=>{u(),w==null||w(Z)},G=Z=>{u(),P==null||P(Z)},l=Z=>{u(),_==null||_(Z)},q=(p||b)&&H.createElement(H.Fragment,null,b,p&&K),te=Je(C??(i==null?void 0:i.allowClear)),[ie,ne]=Ye("input",A,n);return k(H.createElement(st,Object.assign({ref:ve(a,F),prefixCls:v,autoComplete:i==null?void 0:i.autoComplete},B,{disabled:Q,onBlur:d,onFocus:G,style:Object.assign(Object.assign({},i==null?void 0:i.style),E),styles:Object.assign(Object.assign({},i==null?void 0:i.styles),L),suffix:q,allowClear:te,className:U(x,X,R,N,h,i==null?void 0:i.className),onChange:l,addonBefore:D&&H.createElement(Ce,{form:!0,space:!0},D),addonAfter:M&&H.createElement(Ce,{form:!0,space:!0},M),classNames:Object.assign(Object.assign(Object.assign({},$),i==null?void 0:i.classNames),{input:U({[`${v}-sm`]:V==="small",[`${v}-lg`]:V==="large",[`${v}-rtl`]:j==="rtl"},$==null?void 0:$.input,(s=i==null?void 0:i.classNames)===null||s===void 0?void 0:s.input,T),variant:U({[`${v}-${ie}`]:ne},xe(v,J)),affixWrapper:U({[`${v}-affix-wrapper-sm`]:V==="small",[`${v}-affix-wrapper-lg`]:V==="large",[`${v}-affix-wrapper-rtl`]:j==="rtl"},T),wrapper:U({[`${v}-group-rtl`]:j==="rtl"},T),groupWrapper:U({[`${v}-group-wrapper-sm`]:V==="small",[`${v}-group-wrapper-lg`]:V==="large",[`${v}-group-wrapper-rtl`]:j==="rtl",[`${v}-group-wrapper-${ie}`]:ne},xe(`${v}-group-wrapper`,J,p),T)})})))}),it=e=>{const{componentCls:a,paddingXS:s}=e;return{[a]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:s,"&-rtl":{direction:"rtl"},[`${a}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${a}-sm ${a}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${a}-lg ${a}-input`]:{paddingInline:e.paddingXS}}}},ut=Ve(["Input","OTP"],e=>{const a=Ke(e,He(e));return[it(a)]},We);var ct=function(e,a){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const ft=o.forwardRef((e,a)=>{const{value:s,onChange:t,onActiveChange:n,index:m,mask:y}=e,g=ct(e,["value","onChange","onActiveChange","index","mask"]),w=s&&typeof y=="string"?y:s,P=x=>{t(m,x.target.value)},b=o.useRef(null);o.useImperativeHandle(a,()=>b.current);const C=()=>{Ue(()=>{var x;const E=(x=b.current)===null||x===void 0?void 0:x.input;document.activeElement===E&&E&&E.select()})},M=x=>{const{key:E,ctrlKey:L,metaKey:X}=x;E==="ArrowLeft"?n(m-1):E==="ArrowRight"?n(m+1):E==="z"&&(L||X)&&x.preventDefault(),C()},D=x=>{x.key==="Backspace"&&!s&&n(m-1),C()};return o.createElement(ce,Object.assign({type:y===!0?"password":"text"},g,{ref:b,value:w,onInput:P,onFocus:C,onKeyDown:M,onKeyUp:D,onMouseDown:C,onMouseUp:C}))});var dt=function(e,a){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};function ue(e){return(e||"").split("")}const mt=o.forwardRef((e,a)=>{const{prefixCls:s,length:t=6,size:n,defaultValue:m,value:y,onChange:g,formatter:w,variant:P,disabled:b,status:C,autoFocus:M,mask:D,type:x,onInput:E,inputMode:L}=e,X=dt(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:_,direction:$}=o.useContext(re),A=_("otp",s),B=Le(X,{aria:!0,data:!0,attr:!0}),O=Oe(A),[j,i,v]=ut(A,O),F=me(r=>n??r),N=o.useContext(ae),k=Re(N.status,C),T=o.useMemo(()=>Object.assign(Object.assign({},N),{status:k,hasFeedback:!1,feedbackIcon:null}),[N,k]),R=o.useRef(null),I=o.useRef({});o.useImperativeHandle(a,()=>({focus:()=>{var r;(r=I.current[0])===null||r===void 0||r.focus()},blur:()=>{var r;for(let u=0;u<t;u+=1)(r=I.current[u])===null||r===void 0||r.blur()},nativeElement:R.current}));const h=r=>w?w(r):r,[V,W]=o.useState(ue(h(m||"")));o.useEffect(()=>{y!==void 0&&W(ue(y))},[y]);const Q=ye(r=>{W(r),E&&E(r),g&&r.length===t&&r.every(u=>u)&&r.some((u,d)=>V[d]!==u)&&g(r.join(""))}),f=ye((r,u)=>{let d=Se(V);for(let l=0;l<r;l+=1)d[l]||(d[l]="");u.length<=1?d[r]=u:d=d.slice(0,r).concat(ue(u)),d=d.slice(0,t);for(let l=d.length-1;l>=0&&!d[l];l-=1)d.pop();const G=h(d.map(l=>l||" ").join(""));return d=ue(G).map((l,q)=>l===" "&&!d[q]?d[q]:l),d}),p=(r,u)=>{var d;const G=f(r,u),l=Math.min(r+u.length,t-1);l!==r&&G[r]!==void 0&&((d=I.current[l])===null||d===void 0||d.focus()),Q(G)},K=r=>{var u;(u=I.current[r])===null||u===void 0||u.focus()},J={variant:P,disabled:b,status:k,mask:D,type:x,inputMode:L};return j(o.createElement("div",Object.assign({},B,{ref:R,className:U(A,{[`${A}-sm`]:F==="small",[`${A}-lg`]:F==="large",[`${A}-rtl`]:$==="rtl"},v,i)}),o.createElement(ae.Provider,{value:T},Array.from({length:t}).map((r,u)=>{const d=`otp-${u}`,G=V[u]||"";return o.createElement(ft,Object.assign({ref:l=>{I.current[u]=l},key:d,index:u,size:F,htmlSize:1,className:`${A}-input`,onChange:p,value:G,onActiveChange:K,autoFocus:u===0&&M},J))}))))});var vt=function(e,a){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const pt=e=>e?o.createElement(tt,null):o.createElement(et,null),gt={click:"onClick",hover:"onMouseOver"},Ct=o.forwardRef((e,a)=>{const{disabled:s,action:t="click",visibilityToggle:n=!0,iconRender:m=pt}=e,y=o.useContext(Pe),g=s??y,w=typeof n=="object"&&n.visible!==void 0,[P,b]=o.useState(()=>w?n.visible:!1),C=o.useRef(null);o.useEffect(()=>{w&&b(n.visible)},[w,n]);const M=_e(C),D=()=>{g||(P&&M(),b(F=>{var N;const k=!F;return typeof n=="object"&&((N=n.onVisibleChange)===null||N===void 0||N.call(n,k)),k}))},x=F=>{const N=gt[t]||"",k=m(P),T={[N]:D,className:`${F}-icon`,key:"passwordIcon",onMouseDown:R=>{R.preventDefault()},onMouseUp:R=>{R.preventDefault()}};return o.cloneElement(o.isValidElement(k)?k:o.createElement("span",null,k),T)},{className:E,prefixCls:L,inputPrefixCls:X,size:_}=e,$=vt(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:A}=o.useContext(re),B=A("input",X),O=A("input-password",L),j=n&&x(O),i=U(O,E,{[`${O}-${_}`]:!!_}),v=Object.assign(Object.assign({},we($,["suffix","iconRender","visibilityToggle"])),{type:P?"text":"password",className:i,prefixCls:B,suffix:j});return _&&(v.size=_),o.createElement(ce,Object.assign({ref:ve(a,C)},v))});var yt=function(e,a){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const bt=o.forwardRef((e,a)=>{const{prefixCls:s,inputPrefixCls:t,className:n,size:m,suffix:y,enterButton:g=!1,addonAfter:w,loading:P,disabled:b,onSearch:C,onChange:M,onCompositionStart:D,onCompositionEnd:x}=e,E=yt(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:L,direction:X}=o.useContext(re),_=o.useRef(!1),$=L("input-search",s),A=L("input",t),{compactSize:B}=Ee($,X),O=me(f=>{var p;return(p=m??B)!==null&&p!==void 0?p:f}),j=o.useRef(null),i=f=>{f!=null&&f.target&&f.type==="click"&&C&&C(f.target.value,f,{source:"clear"}),M==null||M(f)},v=f=>{var p;document.activeElement===((p=j.current)===null||p===void 0?void 0:p.input)&&f.preventDefault()},F=f=>{var p,K;C&&C((K=(p=j.current)===null||p===void 0?void 0:p.input)===null||K===void 0?void 0:K.value,f,{source:"input"})},N=f=>{_.current||P||F(f)},k=typeof g=="boolean"?o.createElement(nt,null):null,T=`${$}-button`;let R;const I=g||{},h=I.type&&I.type.__ANT_BUTTON===!0;h||I.type==="button"?R=be(I,Object.assign({onMouseDown:v,onClick:f=>{var p,K;(K=(p=I==null?void 0:I.props)===null||p===void 0?void 0:p.onClick)===null||K===void 0||K.call(p,f),F(f)},key:"enterButton"},h?{className:T,size:O}:{})):R=o.createElement(Xe,{className:T,type:g?"primary":void 0,size:O,disabled:b,key:"enterButton",onMouseDown:v,onClick:F,loading:P,icon:k},g),w&&(R=[R,be(w,{key:"addonAfter"})]);const V=U($,{[`${$}-rtl`]:X==="rtl",[`${$}-${O}`]:!!O,[`${$}-with-button`]:!!g},n),W=f=>{_.current=!0,D==null||D(f)},Q=f=>{_.current=!1,x==null||x(f)};return o.createElement(ce,Object.assign({ref:ve(j,a),onPressEnter:N},E,{size:O,onCompositionStart:W,onCompositionEnd:Q,prefixCls:A,addonAfter:R,suffix:y,onChange:i,className:V,disabled:b}))}),le=ce;le.Group=at;le.Search=bt;le.TextArea=Qe;le.Password=Ct;le.OTP=mt;export{le as I};
